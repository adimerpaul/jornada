(()=>{var e={32991:(e,o,t)=>{"use strict";t(18964);var l=t(61957),a=t(71947),i=t(60499),s=t(59835);function n(e,o,t,l,a,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}const r=(0,s.aZ)({name:"App"});var c=t(11639);const d=(0,c.Z)(r,[["render",n]]),u=d;var p=t(23340),m=t(81809);const h=(0,p.h)((()=>{const e=(0,m.WB)();return e}));var g=t(28339),f=t(86970);const b={class:"row"},w={class:"col-12 col-sm-6 q-pa-md"},v={class:"text-h6 text-white"},C={class:"text-h2 text-white"},I={class:"col-12 col-sm-6 q-pa-md"},q={class:"text-h6 text-white"},_={class:"text-h2 text-white"};function y(e,o,t,l,a,i){const n=(0,s.up)("q-btn"),r=(0,s.up)("q-card-section"),c=(0,s.up)("q-card"),d=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(d,{class:""},{default:(0,s.w5)((()=>[(0,s._)("div",b,[(0,s._)("div",w,[(0,s.Wm)(c,{class:"bg-green"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",v,[(0,s.Uk)("Libres "),(0,s.Wm)(n,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",C,(0,f.zw)(a.libres),1)])),_:1})])),_:1})]),(0,s._)("div",I,[(0,s.Wm)(c,{class:"bg-red"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",q,[(0,s.Uk)("Ocupados "),(0,s.Wm)(n,{flat:"",dense:"",onClick:i.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",_,(0,f.zw)(a.ocupados),1)])),_:1})])),_:1})])])])),_:1})}const E={data(){return{libres:0,ocupados:0}},created(){this.actualizar()},methods:{actualizar(){this.$q.loading.show(),this.$api.get("cupo").then((e=>{this.libres=0,this.ocupados=0,e.data.forEach((e=>{null!=e.nombres?this.ocupados++:this.libres++}))})).finally((()=>{this.$q.loading.hide()}))}}};var x=t(69885),$=t(44458),k=t(63190),A=t(24455),W=t(69984),N=t.n(W);const R=(0,c.Z)(E,[["render",y]]),j=R;N()(E,"components",{QPage:x.Z,QCard:$.Z,QCardSection:k.Z,QBtn:A.Z});const D=e=>((0,s.dD)("data-v-d35f83a8"),e=e(),(0,s.Cn)(),e),S={class:"row"},V=D((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1))),O={class:"col-10 col-sm-4"},U=D((()=>(0,s._)("div",{class:"text-subtitle1 text-center q-pt-xs text-grey"},"CUENTA",-1))),T=D((()=>(0,s._)("div",{class:"text-h2 text-center q-pa-xs text-black text-bold"},"Tu Cuenta",-1))),Z={class:"row"},M={class:"col-12"},P={class:"col-12 q-pt-lg"},Q={class:"col-12 q-py-xs"},L={class:"col-12 q-pt-xs"},F=D((()=>(0,s._)("div",{class:"col-12 q-pt-xs"},null,-1))),z=D((()=>(0,s._)("div",{class:"col-12 text-center q-py-none"},[(0,s._)("a",{href:"",class:"text-blue-8"},"¿Olvidaste tu contraseña?")],-1))),G=D((()=>(0,s._)("div",{class:"text-subtitle1 text-center text-caption q-pt-lg text-grey"},[(0,s.Uk)("AL INICIAR SESIÓN, USTED ACEPTA LOS "),(0,s._)("a",{href:"",class:"text-blue-8"},"TÉRMINOS DEL SERVICIO"),(0,s.Uk)(" Y "),(0,s._)("a",{href:"",class:"text-blue-8"},"LA POLÍTICA DE PRIVACIDAD")],-1))),B=D((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1)));function Y(e,o,t,a,i,n){const r=(0,s.up)("q-input"),c=(0,s.up)("q-icon"),d=(0,s.up)("q-checkbox"),u=(0,s.up)("q-btn"),p=(0,s.up)("q-form"),m=(0,s.up)("q-card-section"),h=(0,s.up)("q-card"),g=(0,s.up)("q-page"),f=(0,s.up)("q-page-container"),b=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(b,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",S,[V,(0,s._)("div",O,[U,T,(0,s.Wm)(h,{flat:"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"q-pa-lg",onSubmit:(0,l.iM)(n.login,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Z,[(0,s._)("div",M,[(0,s.Wm)(r,{outlined:"",modelValue:i.email,"onUpdate:modelValue":o[0]||(o[0]=e=>i.email=e),label:"Email",type:"email",required:""},null,8,["modelValue"])]),(0,s._)("div",P,[(0,s.Wm)(r,{outlined:"",modelValue:i.password,"onUpdate:modelValue":o[2]||(o[2]=e=>i.password=e),label:"Contraseña",type:i.typePassword?"password":"text",required:""},{append:(0,s.w5)((()=>[(0,s.Wm)(c,{onClick:o[1]||(o[1]=e=>i.typePassword=!i.typePassword),name:i.typePassword?"visibility":"visibility_off"},null,8,["name"])])),_:1},8,["modelValue","type"])]),(0,s._)("div",Q,[(0,s.Wm)(d,{modelValue:i.remember,"onUpdate:modelValue":o[3]||(o[3]=e=>i.remember=e),class:"grey",label:"Recuérdame",size:"30px"},null,8,["modelValue"])]),(0,s._)("div",L,[(0,s.Wm)(u,{size:"22px",loading:i.loading,class:"full-width bold",color:"primary",label:"Iniciar Sesión",type:"submit","no-caps":""},null,8,["loading"])]),F,z])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),G]),B])])),_:1})])),_:1})])),_:1})}t(69665);var H=t(77292);const J={name:"Login",data(){return{email:"",password:"",remember:!1,typePassword:!0,loading:!1,store:(0,H.A)()}},mounted(){this.store.isLoggedIn&&this.$router.push("/")},methods:{login(){this.loading=!0,this.$api.post("login",{email:this.email,password:this.password}).then((e=>{this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),this.$router.push("/"),this.store.user=e.data.user,this.store.isLoggedIn=!0,this.$api.defaults.headers.common["Authorization"]="Bearer "+e.data.token,localStorage.setItem("tokenJor",e.data.token)})).catch((e=>{console.log(e),this.$q.notify({message:e.response.data.message,color:"negative",position:"top",timeout:2e3})})).finally((()=>{this.loading=!1}))}}};var K=t(77605),X=t(12133),ee=t(8326),oe=t(66611),te=t(22857),le=t(11221);const ae=(0,c.Z)(J,[["render",Y],["__scopeId","data-v-d35f83a8"]]),ie=ae;N()(J,"components",{QLayout:K.Z,QPageContainer:X.Z,QPage:x.Z,QCard:$.Z,QCardSection:k.Z,QForm:ee.Z,QInput:oe.Z,QIcon:te.Z,QCheckbox:le.Z,QBtn:A.Z});const se=(0,s._)("div",{class:"text-h6"},"Actualizar Tipo",-1),ne={class:"row"},re={class:"col-12"},ce={class:"col-12"};function de(e,o,t,a,i,n){const r=(0,s.up)("q-btn"),c=(0,s.up)("q-icon"),d=(0,s.up)("q-input"),u=(0,s.up)("q-chip"),p=(0,s.up)("q-td"),m=(0,s.up)("q-img"),h=(0,s.up)("q-table"),g=(0,s.up)("q-card-section"),b=(0,s.up)("q-select"),w=(0,s.up)("q-form"),v=(0,s.up)("q-card"),C=(0,s.up)("q-dialog"),I=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{"virtual-scroll":"","virtual-scroll-item-size":48,"selected-rows-label":n.getSelectedString,selected:i.selected,"onUpdate:selected":o[2]||(o[2]=e=>i.selected=e),selection:"multiple",dense:"","rows-per-page-options":[15,100,150,500],rows:i.cupos,columns:i.cupoColumns,filter:i.cupoSearch},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"o_print",onClick:n.cupoPrint},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"refresh",onClick:o[0]||(o[0]=e=>{n.cupoGet(),i.cupoSearch=""})}),(0,s.Wm)(d,{dense:"",outlined:"",placeholder:"Buscar...",modelValue:i.cupoSearch,"onUpdate:modelValue":o[1]||(o[1]=e=>i.cupoSearch=e)},{prepend:(0,s.w5)((()=>[(0,s.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-estado":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>["ADMINISTRADOR"==i.store.user.role?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"qr_code",onClick:o=>n.qrPrint(e.row)},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"public",onClick:o=>n.cupoRegister(e.row)},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"recycling",onClick:o=>n.cupoReset(e.row)},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"published_with_changes",onClick:o=>n.cupoChange(e.row)},null,8,["onClick"])],64)):(0,s.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-foto":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"o_rotate_90_degrees_cw",onClick:o=>n.rotateFoto(e.row)},null,8,["onClick"]),(0,s.Wm)(m,{onClick:o=>n.fotoShow(e.row),src:i.url+"../imagenes/"+e.row.foto,width:"30px",height:"30px"},null,8,["onClick","src"])])),_:2},1032,["props"])])),_:1},8,["selected-rows-label","selected","rows","columns","filter"]),(0,s.Wm)(C,{modelValue:i.cupoUpdateShow,"onUpdate:modelValue":o[4]||(o[4]=e=>i.cupoUpdateShow=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"q-pb-none"},{default:(0,s.w5)((()=>[se])),_:1}),(0,s.Wm)(g,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{onSubmit:(0,l.iM)(n.CambioTipo,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",ne,[(0,s._)("div",re,[(0,s.Wm)(b,{outlined:"",modelValue:i.cupo.tipo,"onUpdate:modelValue":o[3]||(o[3]=e=>i.cupo.tipo=e),label:"Tipo",options:["PARTICIPANTE","EXPOSITOR","ORGANIZADOR","DOCENTE","DESARROLLADOR DEL SISTEMA"]},null,8,["modelValue"])]),(0,s._)("div",ce,[(0,s.Wm)(r,{type:"submit",color:"primary",label:"Actualizar",class:"full-width"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var ue=t(4527),pe=t(32316);t(40196);const me={name:"Cupo",data(){return{selected:[],url:"https://bjornada.siscenter.org/api/",cupoSearch:"",store:(0,H.A)(),cupos:[],cupo:{},cupoUpdateShow:!1,valida:!0,cupoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"ci",label:"C.I.",field:"ci",align:"left",sortable:!0},{name:"tipo",label:"Usuario",field:"tipo",align:"left",sortable:!0},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombre",align:"left",sortable:!0},{name:"celular",label:"Celular",field:"celular",align:"left",sortable:!0},{name:"correo",label:"Correo",field:"correo",align:"left",sortable:!0},{name:"foto",label:"Foto",field:"foto",align:"left",sortable:!0}]}},created(){this.cupoGet()},computed:{},methods:{cupoUpdate(){},qrPrint(e){pe.toDataURL("https://jornada.siscenter.org/#/registro/"+e.codigo).then((e=>{this.$q.dialog({title:"Código QR",message:`<a href="${e}" target="_blank"><div style="text-align: center"><img src="${e}" /></div></a>`,html:!0,ok:!1,cancel:{label:"Cerrar",color:"primary",flat:!0,noDismiss:!0}})})).catch((e=>{console.error(e)}))},cupoRegister(e){window.open("https://jornada.siscenter.org/#/registro/"+e.codigo,"_blank")},rotateFoto(e){this.$q.dialog({title:"Rotar Foto",message:"¿Desea rotar la foto?",ok:{label:"Rotar",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"Cancelar",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$q.loading.show(),this.$api.post(this.url+"rotateFoto",e).then((o=>{e.foto=o.data.foto,this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide(),console.log(e)}))}))},cupoChange(e){this.cupoUpdateShow=!0,console.log(e),this.cupo=e},cupoReset(e){if(this.valido=!0,e.materials.forEach((e=>{1==e.estado&&(this.valido=!1)})),!this.valido)return this.$q.notify({message:"Existe registro material",color:"red-4",textColor:"white",icon:"info",position:"top"}),!1;this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el cupo?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("cupo/"+e.id,{ci:"",nombres:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.cupoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el cupo",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},cupoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("cupoPdf",this.selected).then((e=>{console.log(e.data),window.open(this.url+"cupoFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} registro${this.selected.length>1?"s":""} seleccionados de ${this.store.cupos.length}`},fotoShow(e){this.$q.dialog({title:"Foto",message:'<img src="'+this.url+"../imagenes/"+e.foto+'" width="100%" />',html:!0,persistent:!0,ok:{label:"Cerrar",color:"primary"}})},CambioTipo(){this.$q.loading.show(),this.$api.post("updateTipo",this.cupo).then((e=>{})).catch((e=>{console.log(e)})).finally((()=>{this.cupoUpdateShow=!1,this.$q.loading.hide()}))},cupoGet(){this.$q.loading.show(),this.store.cupos=[],this.cupos=[],this.$api.get("cupo").then((e=>{e.data.forEach((e=>{e.estado=null==e.nombres?"Libre":"Ocupado",e.nombre=(null==e.nombres?"":e.nombres)+" "+(null==e.apellidos?"":e.apellidos),this.cupos.push(e)}))})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}};var he=t(77580),ge=t(67220),fe=t(57691),be=t(70335),we=t(32074),ve=t(26384);const Ce=(0,c.Z)(me,[["render",de]]),Ie=Ce;N()(me,"components",{QPage:x.Z,QTable:he.Z,QBtn:A.Z,QInput:oe.Z,QIcon:te.Z,QTd:ge.Z,QChip:fe.Z,QImg:be.Z,QDialog:we.Z,QCard:$.Z,QCardSection:k.Z,QForm:ee.Z,QSelect:ve.Z});const qe={key:0,class:"flex flex-center text-bold text-center text-h2 text-red-5"},_e={class:"row"},ye={class:"col-12 col-sm-6 q-px-xs"},Ee={class:"col-12 col-sm-6 q-px-xs"},xe={class:"col-12 col-sm-6 q-px-xs"},$e={class:"col-12 col-sm-6 q-px-xs"},ke={class:"col-12 col-sm-6 q-px-xs"},Ae={class:"col-12 col-sm-6 q-px-xs"},We={key:0,class:"q-pa-xs text-bold text-red"},Ne={class:"col-12 col-sm-12 q-px-xs flex flex-center q-pb-xs"},Re={class:"col-12 col-sm-12 q-px-xs"};function je(e,o,t,a,i,n){const r=(0,s.up)("q-toolbar-title"),c=(0,s.up)("q-toolbar"),d=(0,s.up)("q-header"),u=(0,s.up)("q-input"),p=(0,s.up)("q-select"),m=(0,s.up)("q-uploader"),h=(0,s.up)("q-btn"),g=(0,s.up)("q-form"),b=(0,s.up)("q-page"),w=(0,s.up)("router-view"),v=(0,s.up)("q-page-container"),C=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(C,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-bold text-primary text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Registro de estudiante ")])),_:1})])),_:1})])),_:1}),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[i.cupoBool?((0,s.wg)(),(0,s.iD)("div",qe," Este cupo ya fue registrado ")):((0,s.wg)(),(0,s.j4)(g,{key:1,class:"q-pa-lg",onSubmit:(0,l.iM)(n.cupoUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",_e,[(0,s._)("div",ye,[(0,s.Wm)(u,{onKeyup:o[0]||(o[0]=e=>{n.studentSearch(i.cupo),n.validar(i.cupo.ci)}),modelValue:i.cupo.ci,"onUpdate:modelValue":o[1]||(o[1]=e=>i.cupo.ci=e),label:"Carnet de identidad",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"])]),""!=i.cupo.nombres?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Ee,[(0,s.Wm)(u,{required:"",modelValue:i.cupo.nombres,"onUpdate:modelValue":o[2]||(o[2]=e=>i.cupo.nombres=e),label:"Nombre completo",style:{"text-transform":"uppercase"},hint:"comenzando por el apellido paterno",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue"])]),(0,s._)("div",xe,[(0,s.Wm)(p,{modelValue:i.cupo.carrera,"onUpdate:modelValue":o[3]||(o[3]=e=>i.cupo.carrera=e),label:"Carrera",outlined:"",options:i.carreas,class:"q-mb-md",readonly:""},null,8,["modelValue","options"])]),(0,s._)("div",$e,[(0,s.Wm)(u,{modelValue:i.cupo.celular,"onUpdate:modelValue":o[4]||(o[4]=e=>i.cupo.celular=e),label:"Celular",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),(0,s._)("div",ke,[(0,s.Wm)(u,{modelValue:i.cupo.direccion,"onUpdate:modelValue":o[5]||(o[5]=e=>i.cupo.direccion=e),label:"Direccion",outlined:"",class:"q-mb-md",readonly:""},null,8,["modelValue"])]),(0,s._)("div",Ae,[(0,s.Wm)(u,{modelValue:i.cupo.correo,"onUpdate:modelValue":o[6]||(o[6]=e=>i.cupo.correo=e),label:"Correo",type:"email",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"])]),i.reg?((0,s.wg)(),(0,s.iD)("div",We,(0,f.zw)(i.mensaje),1)):(0,s.kq)("",!0),(0,s._)("div",Ne,[(0,s.Wm)(m,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Subir foto",flat:"","max-file-size":"5000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",Re,[(0,s.Wm)(h,{loading:i.loading,color:"primary",label:"Registrar","no-caps":"",type:"submit",icon:"add_circle_outline",class:"full-width",disable:i.reg},null,8,["loading","disable"])])],64)):(0,s.kq)("",!0)])])),_:1},8,["onSubmit"]))])),_:1})])),_:1})])),_:1})])),_:1})}const De={name:"Registro",data(){return{carreas:["INGENIERIA CIVIL (MENCION ESTRUCTURAS)","INGENIERIA CIVIL (MENCION HIDRAULICA)","INGENIERIA CIVIL (MENCION SANITARIA Y AMBIENTAL)","INGENIERIA CIVIL (MENCION VIAS DE COMUNICACION)","INGENIERIA CIVIL (TECNICO ESTRUCTURAS)","INGENIERIA DE SISTEMAS (MENCION DIR. Y GES. EMPRESARIAL)","INGENIERIA DE SISTEMAS (MENCION GESTION DE LA INFORMACION)","INGENIERIA DE SISTEMAS (MENCION MODELAMIENTO Y OPT. DE R-P)","INGENIERIA ELECTRICA (MENCION SIS. ELECTRICOS INDUSTRIALES)","INGENIERIA ELECTRICA (TECNICA)","INGENIERIA ELECTRONICA (MENCION AUTOMATICA)","INGENIERIA ELECTRONICA (MENCION TELECOMUNICACION)","INGENIERIA INDUSTRIAL","INGENIERIA INFORMATICA (MENCION DESARROLLO DE SOFTWARE)","INGENIERIA INFORMATICA (MENCION TELEMATICA)","INGENIERIA MECATRONICA","CISCO","OTROS"],cupoBool:!0,cupo:{ci:"",nombres:"",apellidos:"",carrera:"",celular:"",direccion:"",correo:"",foto:""},foto:"",loading:!1,codigo:this.$route.params.id,students:[],reg:!1,mensaje:""}},created(){this.$api.get("student").then((e=>{this.students=e.data}))},mounted(){this.$q.loading.show(),this.$api.get(`cupo/${this.codigo}`).then((e=>{this.cupo=e.data,null==this.cupo.nombres&&(this.cupoBool=!1)})).finally((()=>{this.$q.loading.hide()}))},methods:{validar(e){this.$api.post("validaCupon/"+e).then((e=>{console.log(e.data),this.reg=!1,this.mensaje="",e.data&&e.data.id!=this.cupo.id&&(this.reg=!0,this.mensaje="El ci esta registrado")}))},impresion(){let e=this;var o=new ue.kH("P","cm","letter");o.setFont("courier");var t=new Image;t.src="baner.jpg",o.addImage(t,"jpg",1,.5,19,2),o.setFont(void 0,"bold"),o.setFontSize(12),o.text(5,3,"II JORNADAS DE TECNOLGIAS DE COMUNICACION 2022"),o.text(8,3.5,"FORMULARIO DE INSCRIPCION"),o.text(8,4.5,"DATOS DEL PARTICIPANTE"),o.text(3,5,"CI"),o.text(3,5.5,"NOMBRE"),o.text(3,6,"CARRERA"),o.text(3,6.5,"CELULAR"),o.text(3,7,"CORREO"),o.setFont(void 0,"normal"),o.text(6,5,e.cupo.ci+""),o.text(6,5.5,e.cupo.nombres),o.text(6,6,e.cupo.carrera),o.text(6,6.5,null==e.cupo.celular?"":e.cupo.celular),o.text(6,7,null==e.cupo.correo?"":e.cupo.correo),o.save(e.cupo.ci+".pdf")},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},uploadFile(e){this.loading=!0;let o=this.$q.dialog({message:"Subiendo... 0%"}),t=0;const l=new FormData;return l.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",l,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{t=Math.round(e.loaded/e.total*100),o.update({message:`Subiendo... ${t}%`}),t>=100&&o.hide()}}).then((o=>{this.foto=o.data,this.loading=!1,a(e)})).catch((e=>i(e)))}))},studentSearch(e){console.log(e),this.cupo.nombres="",this.cupo.apellidos="",this.cupo.carrera="",this.cupo.celular="",this.cupo.direccion="",this.cupo.correo="",this.students.forEach((o=>{if(o.ci==e.ci)return this.cupo.nombres=o.nombres,this.cupo.apellidos=o.apellidos,this.cupo.carrera=o.carrera,this.cupo.celular=o.celular,this.cupo.direccion=o.direccion,this.cupo.correo=o.correo,!1}))},cupoUpdate(){return!this.reg&&(""==this.foto?(this.$q.notify({message:"Tienes que subir una foto",type:"negative",icon:"warning",position:"top"}),!1):void this.$q.dialog({title:"Confirmación",message:"¿Estas seguro de registrar este cupo?",cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),this.cupo.foto=this.foto,this.cupo.nombres=this.cupo.nombres.toUpperCase(),this.$api.put(`updateRegistro/${this.cupo.id}`,this.cupo).then((e=>{console.log(this.cupo),console.log(e.data),this.impresion(this.cupo),this.$q.notify({message:"Cupo registrado",color:"positive",icon:"check_circle",position:"top"}),this.cupoBool=!0})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"warning",position:"top"})})).finally((()=>{this.$q.loading.hide()}))})))}}};var Se=t(16602),Ve=t(51663),Oe=t(81973),Ue=t(84343);const Te=(0,c.Z)(De,[["render",je]]),Ze=Te;function Me(e,o,t,l,a,i){const n=(0,s.up)("q-toggle"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-icon"),d=(0,s.up)("q-input"),u=(0,s.up)("q-chip"),p=(0,s.up)("q-td"),m=(0,s.up)("q-img"),h=(0,s.up)("q-table"),g=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{"virtual-scroll":"","virtual-scroll-item-size":48,"selected-rows-label":i.getSelectedString,selected:a.selected,"onUpdate:selected":o[3]||(o[3]=e=>a.selected=e),selection:"multiple",dense:"","rows-per-page-options":[15,100,150,500],rows:a.cupos,columns:a.cupoColumns,filter:a.cupoSearch},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:a.fondo,"onUpdate:modelValue":o[0]||(o[0]=e=>a.fondo=e),"true-value":"SI","false-value":"NO",label:`${a.fondo} Fondo`},null,8,["modelValue","label"]),(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"o_print",onClick:i.cupoPrint},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"refresh",onClick:o[1]||(o[1]=e=>{i.cupoGet(),a.cupoSearch=""})}),(0,s.Wm)(d,{dense:"",outlined:"",placeholder:"Buscar...",modelValue:a.cupoSearch,"onUpdate:modelValue":o[2]||(o[2]=e=>a.cupoSearch=e)},{prepend:(0,s.w5)((()=>[(0,s.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-estado":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},null,8,["props"])])),"body-cell-foto":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"o_rotate_90_degrees_cw",onClick:o=>i.rotateFoto(e.row)},null,8,["onClick"]),(0,s.Wm)(m,{onClick:o=>i.fotoShow(e.row),src:a.url+"../imagenes/"+e.row.foto,width:"30px",height:"30px"},null,8,["onClick","src"])])),_:2},1032,["props"])])),_:1},8,["selected-rows-label","selected","rows","columns","filter"])])),_:1})}N()(De,"components",{QLayout:K.Z,QHeader:Se.Z,QToolbar:Ve.Z,QToolbarTitle:Oe.Z,QPageContainer:X.Z,QPage:x.Z,QForm:ee.Z,QInput:oe.Z,QSelect:ve.Z,QUploader:Ue.Z,QBtn:A.Z});const Pe={name:"Credencial",data(){return{selected:[],url:"https://bjornada.siscenter.org/api/",cupoSearch:"",fondo:"NO",store:(0,H.A)(),cupos:[],cupoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"ci",label:"C.I.",field:"ci",align:"left",sortable:!0},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombre",align:"left",sortable:!0},{name:"carrera",label:"Carrera",field:"carrera",align:"left",sortable:!0},{name:"celular",label:"Celular",field:"celular",align:"left",sortable:!0},{name:"correo",label:"Correo",field:"correo",align:"left",sortable:!0},{name:"foto",label:"Foto",field:"foto",align:"left",sortable:!0}]}},created(){this.cupoGet()},computed:{},methods:{qrPrint(e){pe.toDataURL("https://jornada.siscenter.org/#/registro/"+e.codigo).then((e=>{this.$q.dialog({title:"Código QR",message:`<a href="${e}" target="_blank"><div style="text-align: center"><img src="${e}" /></div></a>`,html:!0,ok:!1,cancel:{label:"Cerrar",color:"primary",flat:!0,noDismiss:!0}})})).catch((e=>{console.error(e)}))},cupoRegister(e){window.open("https://jornada.siscenter.org/#/registro/"+e.codigo,"_blank")},rotateFoto(e){this.$q.dialog({title:"Rotar Foto",message:"¿Desea rotar la foto?",ok:{label:"Rotar",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"Cancelar",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$q.loading.show(),this.$api.post(this.url+"rotateFoto",e).then((e=>{console.log(e.data),this.$q.loading.hide(),this.cupoGet()})).catch((e=>{this.$q.loading.hide(),console.log(e)}))}))},cupoReset(e){this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el cupo?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("cupo/"+e.id,{ci:"",nombres:"",apellidos:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.cupoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el cupo",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},cupoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("credencialPdf",{lista:this.selected,fondo:this.fondo}).then((e=>{console.log(e.data),window.open(this.url+"credencialFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} registro${this.selected.length>1?"s":""} seleccionados de ${this.store.cupos.length}`},fotoShow(e){this.$q.dialog({title:"Foto",message:'<img src="'+this.url+"../imagenes/"+e.foto+'" width="100%" />',html:!0,persistent:!0,ok:{label:"Cerrar",color:"primary"}})},cupoGet(){this.$q.loading.show(),this.store.cupos=[],this.$api.get("cupo").then((e=>{e.data.forEach((e=>{e.estado=null==e.nombres?"Libre":"Ocupado",e.nombre=(null==e.nombres?"":e.nombres)+" "+(null==e.apellidos?"":e.apellidos),this.cupos.push(e)}))})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}};var Qe=t(23175);const Le=(0,c.Z)(Pe,[["render",Me]]),Fe=Le;function ze(e,o,t,l,a,i){const n=(0,s.up)("q-toggle"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-icon"),d=(0,s.up)("q-input"),u=(0,s.up)("q-chip"),p=(0,s.up)("q-td"),m=(0,s.up)("q-img"),h=(0,s.up)("q-table"),g=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{"virtual-scroll":"","virtual-scroll-item-size":48,"selected-rows-label":i.getSelectedString,selected:a.selected,"onUpdate:selected":o[3]||(o[3]=e=>a.selected=e),selection:"multiple",dense:"","rows-per-page-options":[15,100,150,500],rows:a.cupos,columns:a.cupoColumns,filter:a.cupoSearch},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:a.fondo,"onUpdate:modelValue":o[0]||(o[0]=e=>a.fondo=e),"true-value":"SI","false-value":"NO",label:`${a.fondo} Fondo`},null,8,["modelValue","label"]),(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"o_print",onClick:i.cupoPrint},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"refresh",onClick:o[1]||(o[1]=e=>{i.cupoGet(),a.cupoSearch=""})}),(0,s.Wm)(d,{dense:"",outlined:"",placeholder:"Buscar...",modelValue:a.cupoSearch,"onUpdate:modelValue":o[2]||(o[2]=e=>a.cupoSearch=e)},{prepend:(0,s.w5)((()=>[(0,s.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-estado":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},null,8,["props"])])),"body-cell-foto":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",round:"",dense:"",icon:"o_rotate_90_degrees_cw",onClick:o=>i.rotateFoto(e.row)},null,8,["onClick"]),(0,s.Wm)(m,{onClick:o=>i.fotoShow(e.row),src:a.url+"../imagenes/"+e.row.foto,width:"30px",height:"30px"},null,8,["onClick","src"])])),_:2},1032,["props"])])),_:1},8,["selected-rows-label","selected","rows","columns","filter"])])),_:1})}N()(Pe,"components",{QPage:x.Z,QTable:he.Z,QToggle:Qe.Z,QBtn:A.Z,QInput:oe.Z,QIcon:te.Z,QTd:ge.Z,QChip:fe.Z,QImg:be.Z});const Ge={name:"Certificado",data(){return{selected:[],fondo:"NO",url:"https://bjornada.siscenter.org/api/",cupoSearch:"",store:(0,H.A)(),cupos:[],cupoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"tipo",label:"Usuario",field:"tipo",align:"left",sortable:!0},{name:"ci",label:"C.I.",field:"ci",align:"left",sortable:!0},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombre",align:"left",sortable:!0},{name:"carrera",label:"Carrera",field:"carrera",align:"left",sortable:!0},{name:"celular",label:"Celular",field:"celular",align:"left",sortable:!0},{name:"correo",label:"Correo",field:"correo",align:"left",sortable:!0},{name:"foto",label:"Foto",field:"foto",align:"left",sortable:!0}]}},created(){this.cupoGet()},computed:{},methods:{qrPrint(e){pe.toDataURL("https://jornada.siscenter.org/#/registro/"+e.codigo).then((e=>{this.$q.dialog({title:"Código QR",message:`<a href="${e}" target="_blank"><div style="text-align: center"><img src="${e}" /></div></a>`,html:!0,ok:!1,cancel:{label:"Cerrar",color:"primary",flat:!0,noDismiss:!0}})})).catch((e=>{console.error(e)}))},cupoRegister(e){window.open("https://jornada.siscenter.org/#/registro/"+e.codigo,"_blank")},rotateFoto(e){this.$q.dialog({title:"Rotar Foto",message:"¿Desea rotar la foto?",ok:{label:"Rotar",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"Cancelar",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$q.loading.show(),this.$api.post(this.url+"rotateFoto",e).then((e=>{console.log(e.data),this.$q.loading.hide(),this.cupoGet()})).catch((e=>{this.$q.loading.hide(),console.log(e)}))}))},cupoReset(e){this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el cupo?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("cupo/"+e.id,{ci:"",nombres:"",apellidos:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.cupoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el cupo",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},cupoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("certificadoPdf",{lista:this.selected,fondo:this.fondo}).then((e=>{console.log(e.data),window.open(this.url+"certificadoFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} registro${this.selected.length>1?"s":""} seleccionados de ${this.store.cupos.length}`},fotoShow(e){this.$q.dialog({title:"Foto",message:'<img src="'+this.url+"../imagenes/"+e.foto+'" width="100%" />',html:!0,persistent:!0,ok:{label:"Cerrar",color:"primary"}})},cupoGet(){this.$q.loading.show(),this.store.cupos=[],this.$api.get("cupo").then((e=>{e.data.forEach((e=>{e.estado=null==e.nombres?"Libre":"Ocupado",e.nombre=(null==e.nombres?"":e.nombres)+" "+(null==e.apellidos?"":e.apellidos),this.cupos.push(e)}))})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}},Be=(0,c.Z)(Ge,[["render",ze]]),Ye=Be;N()(Ge,"components",{QPage:x.Z,QTable:he.Z,QToggle:Qe.Z,QBtn:A.Z,QInput:oe.Z,QIcon:te.Z,QTd:ge.Z,QChip:fe.Z,QImg:be.Z});const He={class:"row"},Je=(0,s._)("div",{class:"col-12"},[(0,s._)("p",{class:"text-red text-bold text-center"},"Marque los materiales a entregar ")],-1),Ke={class:"col-12"},Xe={class:"text-h6 text-bold"},eo={class:"col-xs-12 col-sm-2"},oo={class:"col-xs-12 col-sm-2"},to={class:"col-xs-12 col-sm-2"},lo={class:"col-xs-12 col-sm-2"},ao={class:"col-xs-12 col-sm-2"},io={class:"col-xs-12 col-sm-2"},so={class:"col-6 q-px-lg"},no={class:"col-6 flex flex-center"},ro={class:"col-6 flex flex-center"},co={class:"row"},uo={class:"col-12 col-sm-4 q-pa-md"},po={class:"text-h6 text-white"},mo={class:"text-h2 text-white"},ho={class:"col-12 col-sm-4 q-pa-md"},go={class:"text-h6 text-white"},fo={class:"text-h2 text-white"},bo={class:"col-12 col-sm-4 q-pa-md"},wo={class:"text-h6 text-white"},vo={class:"text-h2 text-white"},Co={class:"col-12 col-sm-4 q-pa-md"},Io={class:"text-h6 text-white"},qo={class:"text-h2 text-white"},_o={class:"col-12 col-sm-4 q-pa-md"},yo={class:"text-h6 text-white"},Eo={class:"text-h2 text-white"},xo={class:"col-12 col-sm-4 q-pa-md"},$o={class:"text-h6 text-white"},ko={class:"text-h2 text-white"},Ao={class:"col-12"},Wo=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function No(e,o,t,a,i,n){const r=(0,s.up)("q-checkbox"),c=(0,s.up)("q-input"),d=(0,s.up)("q-form"),u=(0,s.up)("q-btn"),p=(0,s.up)("q-card-section"),m=(0,s.up)("q-card"),h=(0,s.up)("q-table"),g=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",He,[Je,(0,s._)("div",Ke,[(0,s._)("div",Xe,"PARTICIPANTE : "+(0,f.zw)(i.cupo.nombres),1)]),(0,s._)("div",eo,[(0,s.Wm)(r,{modelValue:i.credencial,"onUpdate:modelValue":o[0]||(o[0]=e=>i.credencial=e),label:"Credencial - Portacredencial"},null,8,["modelValue"])]),(0,s._)("div",oo,[(0,s.Wm)(r,{modelValue:i.folder,"onUpdate:modelValue":o[1]||(o[1]=e=>i.folder=e),label:"Folder"},null,8,["modelValue"])]),(0,s._)("div",to,[(0,s.Wm)(r,{modelValue:i.boligrafo,"onUpdate:modelValue":o[2]||(o[2]=e=>i.boligrafo=e),label:"Boligrafo"},null,8,["modelValue"])]),(0,s._)("div",lo,[(0,s.Wm)(r,{modelValue:i.barbijo,"onUpdate:modelValue":o[3]||(o[3]=e=>i.barbijo=e),label:"Barbijo"},null,8,["modelValue"])]),(0,s._)("div",ao,[(0,s.Wm)(r,{modelValue:i.certificado,"onUpdate:modelValue":o[4]||(o[4]=e=>i.certificado=e),label:"Certificado"},null,8,["modelValue"])]),(0,s._)("div",io,[(0,s.Wm)(r,{modelValue:i.cd,"onUpdate:modelValue":o[5]||(o[5]=e=>i.cd=e),label:"CD"},null,8,["modelValue"])]),(0,s._)("div",so,[(0,s.Wm)(d,{onSubmit:(0,l.iM)(n.BuscarCupo,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{label:"Colocar el lector",ref:"ci",modelValue:i.ci,"onUpdate:modelValue":o[6]||(o[6]=e=>i.ci=e),outlined:""},null,8,["modelValue"])])),_:1},8,["onSubmit"])]),(0,s._)("div",no,[(0,s.Wm)(u,{color:"primary",icon:"check",label:"Entregar",onClick:n.materialInsert},null,8,["onClick"])]),(0,s._)("div",ro,[(0,s.Wm)(u,{color:"accent",icon:"print",label:"Impresion",onClick:n.impresion},null,8,["onClick"])])]),(0,s._)("div",co,[(0,s._)("div",uo,[(0,s.Wm)(m,{class:"bg-green"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",po,[(0,s.Uk)("Credencial y Porta Credencial "),(0,s.Wm)(u,{flat:"",dense:"",onClick:n.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",mo,(0,f.zw)(i.ncred),1)])),_:1})])),_:1})]),(0,s._)("div",ho,[(0,s.Wm)(m,{class:"bg-red"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",go,[(0,s.Uk)("Folder "),(0,s.Wm)(u,{flat:"",dense:"",onClick:n.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",fo,(0,f.zw)(i.nfolder),1)])),_:1})])),_:1})]),(0,s._)("div",bo,[(0,s.Wm)(m,{class:"bg-blue"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",wo,[(0,s.Uk)("Barbijo "),(0,s.Wm)(u,{flat:"",dense:"",onClick:n.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",vo,(0,f.zw)(i.nbarbijo),1)])),_:1})])),_:1})]),(0,s._)("div",Co,[(0,s.Wm)(m,{class:"bg-info"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",Io,[(0,s.Uk)("Boligrafo "),(0,s.Wm)(u,{flat:"",dense:"",onClick:n.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",qo,(0,f.zw)(i.nbol),1)])),_:1})])),_:1})]),(0,s._)("div",_o,[(0,s.Wm)(m,{class:"bg-primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",yo,[(0,s.Uk)("Certificado "),(0,s.Wm)(u,{flat:"",dense:"",onClick:n.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",Eo,(0,f.zw)(i.ncert),1)])),_:1})])),_:1})]),(0,s._)("div",xo,[(0,s.Wm)(m,{class:"bg-secondary"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",$o,[(0,s.Uk)("CD "),(0,s.Wm)(u,{flat:"",dense:"",onClick:n.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",ko,(0,f.zw)(i.ncd),1)])),_:1})])),_:1})])])])),_:1})])),_:1}),(0,s._)("div",Ao,[(0,s.Wm)(h,{title:"Inscritos",rows:i.listcupo,columns:i.columns,"row-key":"name"},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,{color:"primary","icon-right":"archive",label:"Export to csv","no-caps":"",onClick:n.exportTable},null,8,["onClick"])])),_:1},8,["rows","columns"])]),Wo])),_:1})}var Ro=t(52995),jo=t(4376),Do=t(86646);const So={name:"Material",data(){return{credencial:!1,folder:!1,barbijo:!1,certificado:!1,cd:!1,boligrafo:!1,ncred:0,nfolder:0,nbarbijo:0,ncert:0,ncd:0,nbol:0,ci:"",cupo:{},listcupo:[],columns:[{name:"ci",label:"ci",field:"ci"},{name:"nombres",label:"nombres",field:"nombres"}]}},created(){this.totalreg(),this.listado()},methods:{wrapCsvValue(e,o,t){let l=void 0!==o?o(e,t):e;return l=void 0===l||null===l?"":String(l),l=l.split('"').join('""'),`"${l}"`},listado(){this.$api.post("listentrega",{fecha:jo.ZP.formatDate(new Date,"YYYY-MM-DD")}).then((e=>{console.log(e.data),this.listcupo=e.data}))},exportTable(){const e=[this.columns.map((e=>this.wrapCsvValue(e.label)))].concat(this.listcupo.map((e=>this.columns.map((o=>this.wrapCsvValue("function"===typeof o.field?o.field(e):e[void 0===o.field?o.name:o.field],o.format,e))).join(",")))).join("\r\n"),o=(0,Do.Z)("table-export.csv",e,"text/csv");!0!==o&&$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},totalreg(){this.$api.post("totalmaterial").then((e=>{console.log(e.data),this.ncred=e.data[0].cantcred,this.nfolder=e.data[0].cantfolder,this.nbarbijo=e.data[0].cantbar,this.ncert=e.data[0].cantcert,this.ncd=e.data[0].cantcd,this.nbol=e.data[0].cantbol,this.listado()}))},BuscarCupo(){this.cupo={},this.credencial=!1,this.folder=!1,this.barbijo=!1,this.certificado=!1,this.cd=!1,this.boligrafo=!1,this.$api.post("buscarCupo/"+this.ci).then((e=>{console.log(e.data),this.cupo=e.data,this.cupo.materials.forEach((e=>{"CREDENCIAL Y PORTA CREDENCIAL"==e.nombre&&(this.credencial=1==e.estado),"FOLDER"==e.nombre&&(this.folder=1==e.estado),"BARBIJO"==e.nombre&&(this.barbijo=1==e.estado),"CERTIFICADO"==e.nombre&&(this.certificado=1==e.estado),"CD"==e.nombre&&(this.cd=1==e.estado),"BOLIGRAFO"==e.nombre&&(this.boligrafo=1==e.estado)}))})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,position:"top",timeout:2e3})}))},impresion(){if(console.log(this.cupo),void 0==this.cupo.id)return this.$q.notify({message:"Ingrese participante",color:"negative",icon:"warning",position:"top"}),!1;if(!this.credencial&&!this.folder&&!this.barbijo&&!this.certificado&&!this.cd&&!this.boligrafo)return this.$q.notify({message:"No se puede entregar material sin seleccionar",color:"negative",icon:"warning",position:"top"}),!1;let e=this.cupo,o="",t=e.materials[0].user,l=e.materials[0].fecha,a=e.materials[0].hora;e.materials.forEach((e=>{1==e.estado&&e.fecha==l&&(o+=e.nombre+" + ",t=e.user)}));const i=new Ro.gR;let s=l+" "+a;document.getElementById("myelement").innerHTML=`\n<style>\n.center {\n  text-align: center;\n}\n.left {\n  text-align: left;\n}\n.right {\n  text-align: right;\n}\n.bold {\n  text-weight: bold;\n}\n</style>\n          <div class="right bold"> <b>${e.ci}-${e.id}</b></div>\n          <div class="center bold"> <b>Universidad Técnica de Oruro</b></div>\n          <div class="center bold"> <b>Facultad Nacional de Ingeniería</b></div>\n          <div class="center bold"> <b>II JORNADAS DE TECNOLOGIAS DE COMUNICACIÓN 2022</b></div>\n          <div class="left "> <b>Nombre: </b> ${e.nombres}</div>\n          <div class="left "> <b>Carrera: </b> ${e.carrera}</div>\n          <div class="left "> <b>Fecha hora: </b> ${s}</div>\n          <div class="left "> <b>Material entregado: </b> ${o}</div>\n          <div class="left "> <b>Usuario: </b> ${t.name}</div>\n\n          <div style="border-top: 2px dotted #1a202c;margin-top: 50px" class="center">FIRMA</div>\n          `,""!=o&&i.print(document.getElementById("myelement"))},materialInsert(){return void 0==this.cupo.id?(this.$q.notify({message:"Ingrese participante",color:"negative",icon:"warning",position:"top"}),!1):this.credencial||this.folder||this.barbijo||this.certificado||this.cd||this.boligrafo?(this.$q.loading.show(),void this.$api.post("material",{id:this.cupo.id,credencial:this.credencial,folder:this.folder,barbijo:this.barbijo,certificado:this.certificado,cd:this.cd,boligrafo:this.boligrafo,fecha:jo.ZP.formatDate(new Date,"YYYY-MM-DD"),hora:jo.ZP.formatDate(new Date,"HH:mm:ss")}).then((e=>{this.totalreg();let o=e.data;this.$q.loading.hide(),this.$q.notify({message:"Material entregado",color:"green-4",textColor:"white",icon:"done",position:"top"});let t="",l=o.materials[0].user;o.materials.forEach((e=>{1==e.estado&&e.fecha==jo.ZP.formatDate(new Date,"YYYY-MM-DD")&&(t+=e.nombre+"  +",l=e.user)}));const a=new Ro.gR;let i=jo.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss");document.getElementById("myelement").innerHTML=`\n<style>\n.center {\n  text-align: center;\n}\n.left {\n  text-align: left;\n}\n.right {\n  text-align: right;\n}\n.bold {\n  text-weight: bold;\n}\n</style>\n          <div class="right bold"> <b>${o.ci}-${o.id}</b></div>\n          <div class="center bold"> <b>Universidad Técnica de Oruro</b></div>\n          <div class="center bold"> <b>Facultad Nacional de Ingeniería</b></div>\n          <div class="center bold"> <b>II JORNADAS DE TECNOLOGIAS DE COMUNICACIÓN 2022</b></div>\n          <div class="left "> <b>Nombre: </b> ${o.nombres}</div>\n          <div class="left "> <b>Carrera: </b> ${o.carrera}</div>\n          <div class="left "> <b>Fecha hora: </b> ${i}</div>\n          <div class="left "> <b>Material entregado: </b> ${t}</div>\n          <div class="left "> <b>Usuario: </b> ${l.name}</div>\n\n          <div style="border-top: 2px dotted #1a202c;margin-top: 50px" class="center">FIRMA</div>          `,""!=t&&a.print(document.getElementById("myelement")),this.cupo={},this.credencial=!1,this.folder=!1,this.barbijo=!1,this.certificado=!1,this.cd=!1,this.boligrafo=!1,this.ci=null,this.$nextTick((()=>{this.$refs.ci.focus()}))}))):(this.$q.notify({message:"No se puede entregar material sin seleccionar",color:"negative",icon:"warning",position:"top"}),!1)}}},Vo=(0,c.Z)(So,[["render",No]]),Oo=Vo;N()(So,"components",{QPage:x.Z,QCard:$.Z,QCardSection:k.Z,QCheckbox:le.Z,QForm:ee.Z,QInput:oe.Z,QBtn:A.Z,QTable:he.Z});const Uo={class:"row"},To={class:"col-6"},Zo=(0,s._)("small",{class:"text-bold text-subtitle1"},"Fecha actual:",-1),Mo={class:"col-6"},Po={class:"col-12 q-px-lg"},Qo={class:"row"},Lo={class:"col-12 col-sm-4 q-pa-md"},Fo={class:"text-h6 text-white"},zo={class:"text-h2 text-white"},Go={class:"col-12 col-sm-4 q-pa-md"},Bo={class:"text-h6 text-white"},Yo={class:"text-h2 text-white"},Ho={class:"col-12 col-sm-4 q-pa-md"},Jo={class:"text-h6 text-white"},Ko={class:"text-h2 text-white"},Xo=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function et(e,o,t,l,a,i){const n=(0,s.up)("q-input"),r=(0,s.up)("q-toggle"),c=(0,s.up)("q-form"),d=(0,s.up)("q-btn"),u=(0,s.up)("q-card-section"),p=(0,s.up)("q-card"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",Uo,[(0,s._)("div",To,[Zo,(0,s.Uk)(" "+(0,f.zw)(a.fechaActual)+" ",1),(0,s.Wm)(n,{square:"",outlined:"",modelValue:a.fechaprint,"onUpdate:modelValue":o[0]||(o[0]=e=>a.fechaprint=e),label:"fecha",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Mo,[(0,s.Wm)(r,{label:a.turno,color:"primary","false-value":"MAÑANA","true-value":"TARDE",modelValue:a.turno,"onUpdate:modelValue":o[1]||(o[1]=e=>a.turno=e)},null,8,["label","modelValue"])]),(0,s._)("div",Po,[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{label:"Colocar el lector",modelValue:a.ci,"onUpdate:modelValue":o[2]||(o[2]=e=>a.ci=e),outlined:""},null,8,["modelValue"])])),_:1}),(0,s.Wm)(d,{color:"accent",icon:"print",label:"Re Impresion",onClick:i.refrigerioPrint},null,8,["onClick"])])])])),_:1})])),_:1}),(0,s._)("div",Qo,[(0,s._)("div",Lo,[(0,s.Wm)(p,{class:"bg-green"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",Fo,[(0,s.Uk)("Mañana "),(0,s.Wm)(d,{flat:"",dense:"",onClick:i.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",zo,(0,f.zw)(a.manana),1)])),_:1})])),_:1})]),(0,s._)("div",Go,[(0,s.Wm)(p,{class:"bg-red"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",Bo,[(0,s.Uk)("Tarde "),(0,s.Wm)(d,{flat:"",dense:"",onClick:i.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",Yo,(0,f.zw)(a.tarde),1)])),_:1})])),_:1})]),(0,s._)("div",Ho,[(0,s.Wm)(p,{class:"bg-blue"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",Jo,[(0,s.Uk)("Inscritos "),(0,s.Wm)(d,{flat:"",dense:"",onClick:i.totalreg,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ko,(0,f.zw)(a.total),1)])),_:1})])),_:1})])]),Xo])),_:1})}const ot={name:"Refrigerio",data(){return{ci:"",turno:"MAÑANA",fechaActual:jo.ZP.formatDate(new Date,"DD/MM/YYYY"),total:0,manana:0,tarde:0,fechaprint:jo.ZP.formatDate(new Date,"YYYY-MM-DD"),entrega:[{fecha:"2022-11-13",turno:"MAÑANA",refrig:"Mini Pizzitas (cada racion de 2 piezas) + refresco de 300ml"},{fecha:"2022-11-13",turno:"TARDE",refrig:"Postre de Oreo (cada racion de 2 piezas, tamaño mediano) + Vaso de Café"},{fecha:"2022-11-14",turno:"MAÑANA",refrig:"Mini Pizzitas (cada racion de 2 piezas) + refresco de 300ml"},{fecha:"2022-11-14",turno:"TARDE",refrig:"Postre de Oreo (cada racion de 2 piezas, tamaño mediano) + Vaso de Café"},{fecha:"2022-11-15",turno:"MAÑANA",refrig:"Mini Pizzitas (cada racion de 2 piezas) + refresco de 300ml"},{fecha:"2022-11-15",turno:"TARDE",refrig:"Postre de Oreo (cada racion de 2 piezas, tamaño mediano) + Vaso de Café"},{fecha:"2022-11-16",turno:"MAÑANA",refrig:"Mini Pizzitas (cada racion de 2 piezas) + refresco de 300ml"},{fecha:"2022-11-16",turno:"TARDE",refrig:"Postre de Oreo (cada racion de 2 piezas, tamaño mediano) + Vaso de Café"},{fecha:"2022-11-17",turno:"MAÑANA",refrig:"Mini Hamburguezas (cada racion de 2 piezas, Pan, Carne especial, queso, Lechuga, tomate y cebolla caramelizada + refresco de 300ml"},{fecha:"2022-11-17",turno:"TARDE",refrig:"Cupcakes (cada racion de 2 piezas, tamaño nornal, con relleno y decorado) + Vaso de Café"},{fecha:"2022-11-18",turno:"MAÑANA",refrig:"Mini Sandwiich (cada racion de 2 piezas, Pan tostado, Lechuga, tomate, Filete de pollo, Jamons y Queso) + refresco de 300ml  "},{fecha:"2022-11-18",turno:"TARDE",refrig:"Postre tres Leches (cada racion de 2 piezas, tamaño mediano) + Vaso de Café"}]}},created(){this.totalreg()},methods:{totalreg(){this.$api.post("totalreg",{fecha:jo.ZP.formatDate(new Date,"YYYY-MM-DD")}).then((e=>{console.log(e.data),this.total=e.data[0].total,this.manana=e.data[0].manana,this.tarde=e.data[0].tarde})).catch((e=>{console.log(e)}))},refrigerioInsert(){this.$q.loading.show(),this.$api.post("refrigerio/",{ci:this.ci,turno:this.turno,fecha:jo.ZP.formatDate(new Date,"YYYY-MM-DD"),hora:jo.ZP.formatDate(new Date,"HH:mm:ss")}).then((e=>{let o=e.data.id;this.totalreg();let t=e.data.cupo,l=e.data.user;this.$q.loading.hide(),this.$q.notify({message:"Se ha entregado el refrigerio",color:"green-4",textColor:"white",icon:"done",position:"top"});const a=new Ro.gR;let i=jo.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss"),s="";this.entrega.forEach((e=>{e.fecha==jo.ZP.formatDate(new Date,"YYYY-MM-DD")&&e.turno==this.turno&&(s=e.refrig)})),document.getElementById("myelement").innerHTML=`\n<style>\n.center {\n  text-align: center;\n}\n.left {\n  text-align: left;\n}\n.right {\n  text-align: right;\n}\n.bold {\n  text-weight: bold;\n}\n</style>\n          <div class="right bold"> <b>${o}</b></div>\n          <div class="center bold"> <b>Universidad Técnica de Oruro</b></div>\n          <div class="center bold"> <b>Facultad Nacional de Ingeniería</b></div>\n          <div class="center bold"> <b>TICKET REFRIGERIO</b></div>\n          <div class="left "> <b>Nombre: </b> ${t.nombres}</div>\n          <div class="left "> <b>Carrera: </b> ${t.carrera}</div>\n          <div class="left "> <b>Turno: </b> ${this.turno}</div>\n          <div class="left "> <b>Fecha hora: </b> ${i}</div>\n          <div class="left "> <b>Refrigerio: </b> ${s}</div>\n          <div class="left "> <b>User: </b> ${l.name}</div>\n\n          <div style="border-top: 2px dotted #1a202c;margin-top: 50px" class="center">FIRMA</div>\n          `,a.print(document.getElementById("myelement"));const n=new Ro.gR;document.getElementById("myelement").innerHTML=`\n<style>\n.center {\n  text-align: center;\n}\n.left {\n  text-align: left;\n}\n.right {\n  text-align: right;\n}\n.bold {\n  text-weight: bold;\n}\n</style>\n          <div class="right bold"> <b>${o}</b></div>\n          <div class="center bold"> <b>Universidad Técnica de Oruro</b></div>\n          <div class="center bold"> <b>Facultad Nacional de Ingeniería</b></div>\n          <div class="center bold"> <b>TICKET REFRIGERIO</b></div>\n          <div class="left "> <b>Nombre: </b> ${t.nombres}</div>\n          <div class="left "> <b>Carrera: </b> ${t.carrera}</div>\n          <div class="left "> <b>Turno: </b> ${this.turno}</div>\n          <div class="left "> <b>Fecha hora: </b> ${i}</div>\n          <div class="left "> <b>User: </b> ${l.name}</div>\n`,n.print(document.getElementById("myelement")),this.ci=""})).finally((()=>{this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red-4",textColor:"white",icon:"error",position:"top"})}))},refrigerioPrint(){if(void 0==this.ci||""==this.ci)return!1;this.$q.loading.show(),this.$api.post("printRefri/",{ci:this.ci,turno:this.turno,fecha:this.fechaprint}).then((e=>{console.log(e.data);let o=e.data.cupo,t=e.data,l=e.data.user;this.$q.loading.hide();const a=new Ro.gR;let i="";this.entrega.forEach((e=>{e.fecha==t.fecha&&e.turno==t.turno&&(i=e.refrig)})),document.getElementById("myelement").innerHTML=`\n              <style>\n              .center {\n                text-align: center;\n              }\n              .left {\n                text-align: left;\n              }\n              .right {\n                text-align: right;\n              }\n              .bold {\n                text-weight: bold;\n              }\n              </style>\n              <div class="right bold"> <b>${t.id}</b></div>\n          <div class="center bold"> <b>Universidad Técnica de Oruro</b></div>\n          <div class="center bold"> <b>Facultad Nacional de Ingeniería</b></div>\n          <div class="center bold"> <b>TICKET REFRIGERIO </b></div>\n          <div class="left "> <b>Nombre: </b> ${o.nombres}</div>\n          <div class="left "> <b>Carrera: </b> ${o.carrera}</div>\n          <div class="left "> <b>Turno: </b> ${t.turno}</div>\n          <div class="left "> <b>Fecha hora: </b> ${t.fecha} ${t.hora}</div>\n          <div class="left "> <b>Refrigerio: </b> ${i}</div>\n          <div class="left "> <b>User: </b> ${l.name}</div>\n\n          <div style="border-top: 2px dotted #1a202c;margin-top: 50px" class="center">FIRMA</div>\n          `,a.print(document.getElementById("myelement"));const s=new Ro.gR;document.getElementById("myelement").innerHTML=`\n          <style>\n          .center {\n            text-align: center;\n          }\n          .left {\n            text-align: left;\n          }\n          .right {\n            text-align: right;\n          }\n          .bold {\n            text-weight: bold;\n          }\n          </style>\n          <div class="right bold"> <b>${t.id}</b></div>\n          <div class="center bold"> <b>Universidad Técnica de Oruro</b></div>\n          <div class="center bold"> <b>Facultad Nacional de Ingeniería</b></div>\n          <div class="center bold"> <b>CONTROL REFRIGERIO </b></div>\n          <div class="left "> <b>Nombre: </b> ${o.nombres}</div>\n          <div class="left "> <b>Carrera: </b> ${o.carrera}</div>\n          <div class="left "> <b>Turno: </b> ${t.turno}</div>\n          <div class="left "> <b>Fecha hora: </b> ${t.fecha} </div>\n          <div class="left "> <b>Refrigerio: </b> ${i}</div>\n          <div class="left "> <b>User: </b> ${l.name}</div>\n          <div class="left "> <b>Nota: </b> Este boucher le da derecho a recoger su refrigerio</div>\n`,s.print(document.getElementById("myelement")),this.ci=""})).finally((()=>{this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,color:"red-4",textColor:"white",icon:"error",position:"top"})}))}}},tt=(0,c.Z)(ot,[["render",et]]),lt=tt;N()(ot,"components",{QPage:x.Z,QCard:$.Z,QCardSection:k.Z,QInput:oe.Z,QToggle:Qe.Z,QForm:ee.Z,QBtn:A.Z});const at=(0,s._)("div",{class:"text-h6"},"REGISTRO DE ESTUDIANTE",-1),it={key:0},st=(0,s._)("div",{class:"text-h6"},"MODIFICAR ESTUDIANTE",-1);function nt(e,o,t,l,a,i){const n=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),d=(0,s.up)("q-chip"),u=(0,s.up)("q-td"),p=(0,s.up)("q-table"),m=(0,s.up)("q-card-section"),h=(0,s.up)("q-select"),g=(0,s.up)("q-form"),b=(0,s.up)("q-card"),w=(0,s.up)("q-dialog"),v=(0,s.up)("q-page"),C=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{"virtual-scroll":"","virtual-scroll-item-size":48,dense:"","rows-per-page-options":[15,100,150,500],rows:a.estudiantes,columns:a.cupoColumns,filter:a.cupoSearch},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{color:"primary",icon:"add_circle_outline",label:"Registro",onClick:o[0]||(o[0]=e=>{a.estudiante={},a.dialogReg=!0})}),(0,s.Wm)(c,{dense:"",outlined:"",placeholder:"Buscar...",modelValue:a.cupoSearch,"onUpdate:modelValue":o[1]||(o[1]=e=>a.cupoSearch=e)},{prepend:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-estado":(0,s.w5)((e=>[(0,s.Wm)(u,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,s.w5)((e=>[(0,s.Wm)(u,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",round:"",dense:"",color:"yellow",icon:"edit",onClick:o=>{a.estudiante2=e.row,a.dialogMod=!0}},null,8,["onClick"]),(0,s.Wm)(n,{flat:"",round:"",dense:"",color:"red",icon:"delete",onClick:o=>i.delteEst(e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(w,{modelValue:a.dialogReg,"onUpdate:modelValue":o[8]||(o[8]=e=>a.dialogReg=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[at])),_:1}),(0,s.Wm)(m,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:i.regStudent,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{dense:"",outlined:"",modelValue:a.estudiante.ci,"onUpdate:modelValue":[o[2]||(o[2]=e=>a.estudiante.ci=e),o[3]||(o[3]=e=>i.validar(a.estudiante.ci))],label:"Cedula de Identidad",autofocus:"",required:""},null,8,["modelValue"]),(0,s.Wm)(c,{dense:"",outlined:"",modelValue:a.estudiante.nombres,"onUpdate:modelValue":o[4]||(o[4]=e=>a.estudiante.nombres=e),label:"Nombre Completo",required:""},null,8,["modelValue"]),(0,s.Wm)(h,{dense:"",outlined:"",modelValue:a.estudiante.carrera,"onUpdate:modelValue":o[5]||(o[5]=e=>a.estudiante.carrera=e),label:"Carrera",options:a.carreras,required:""},null,8,["modelValue","options"]),(0,s.Wm)(c,{dense:"",outlined:"",modelValue:a.estudiante.celular,"onUpdate:modelValue":o[6]||(o[6]=e=>a.estudiante.celular=e),label:"Celular"},null,8,["modelValue"]),(0,s.Wm)(c,{dense:"",outlined:"",modelValue:a.estudiante.direccion,"onUpdate:modelValue":o[7]||(o[7]=e=>a.estudiante.direccion=e),label:"Direccion"},null,8,["modelValue"]),a.val?((0,s.wg)(),(0,s.iD)("div",it,(0,f.zw)(a.mensaje),1)):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(n,{label:"Registrar",type:"submit",color:"green",disable:a.val},null,8,["disable"]),(0,s.wy)((0,s.Wm)(n,{label:"Cancelar",color:"red",class:"q-ml-sm"},null,512),[[C]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{modelValue:a.dialogMod,"onUpdate:modelValue":o[14]||(o[14]=e=>a.dialogMod=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[st])),_:1}),(0,s.Wm)(m,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:i.ModStudent,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{dense:"",outlined:"",modelValue:a.estudiante2.ci,"onUpdate:modelValue":o[9]||(o[9]=e=>a.estudiante2.ci=e),label:"Cedula de Identidad",required:"",readonly:""},null,8,["modelValue"]),(0,s.Wm)(c,{dense:"",outlined:"",modelValue:a.estudiante2.nombres,"onUpdate:modelValue":o[10]||(o[10]=e=>a.estudiante2.nombres=e),label:"Nombre Completo",required:""},null,8,["modelValue"]),(0,s.Wm)(h,{dense:"",outlined:"",modelValue:a.estudiante2.carrera,"onUpdate:modelValue":o[11]||(o[11]=e=>a.estudiante2.carrera=e),label:"Carrera",options:a.carreras,required:""},null,8,["modelValue","options"]),(0,s.Wm)(c,{dense:"",outlined:"",modelValue:a.estudiante2.celular,"onUpdate:modelValue":o[12]||(o[12]=e=>a.estudiante2.celular=e),label:"Celular"},null,8,["modelValue"]),(0,s.Wm)(c,{dense:"",outlined:"",modelValue:a.estudiante2.direccion,"onUpdate:modelValue":o[13]||(o[13]=e=>a.estudiante2.direccion=e),label:"Direccion"},null,8,["modelValue"]),(0,s._)("div",null,[(0,s.Wm)(n,{label:"Modificar",type:"submit",color:"yellow"}),(0,s.wy)((0,s.Wm)(n,{label:"Cancelar",color:"red",class:"q-ml-sm"},null,512),[[C]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const rt={name:"Cupo",data(){return{selected:[],val:!1,mensaje:"",estudiante:{},estudiante2:{},dialogReg:!1,dialogMod:!1,url:"https://bjornada.siscenter.org/api/",cupoSearch:"",store:(0,H.A)(),estudiantes:[],cupoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"ci",label:"C.I.",field:"ci",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombres",align:"left",sortable:!0},{name:"carrera",label:"Carrera",field:"carrera",align:"left",sortable:!0},{name:"celular",label:"Celular",field:"celular",align:"left",sortable:!0},{name:"direccion",label:"direccion",field:"direccion",align:"left",sortable:!0}],carreras:["INGENIERIA CIVIL (MENCION ESTRUCTURAS)","INGENIERIA CIVIL (MENCION HIDRAULICA)","INGENIERIA CIVIL (MENCION SANITARIA Y AMBIENTAL)","INGENIERIA CIVIL (MENCION VIAS DE COMUNICACION)","INGENIERIA CIVIL (TECNICO ESTRUCTURAS)","INGENIERIA DE SISTEMAS (MENCION DIR. Y GES. EMPRESARIAL)","INGENIERIA DE SISTEMAS (MENCION GESTION DE LA INFORMACION)","INGENIERIA DE SISTEMAS (MENCION MODELAMIENTO Y OPT. DE R-P)","INGENIERIA ELECTRICA (MENCION SIS. ELECTRICOS INDUSTRIALES)","INGENIERIA ELECTRICA (TECNICA)","INGENIERIA ELECTRONICA (MENCION AUTOMATICA)","INGENIERIA ELECTRONICA (MENCION TELECOMUNICACION)","INGENIERIA INDUSTRIAL","INGENIERIA INFORMATICA (MENCION DESARROLLO DE SOFTWARE)","INGENIERIA INFORMATICA (MENCION TELEMATICA)","INGENIERIA MECATRONICA","CISCO","OTROS"]}},created(){this.cupoGet()},computed:{},methods:{delteEst(e){this.$q.dialog({title:"Eliminar Estudiante",message:"Esta seguro de eliminar?"}).onOk((()=>{this.$api.delete("student/"+e.id).then((e=>{this.$q.notify({message:"Estudiante Eliminado.",color:"green",icon:"info"}),this.cupoGet()}))})).onCancel((()=>{})).onDismiss((()=>{}))},ModStudent(){this.$q.loading.show(),this.$api.put("student/"+this.estudiante2.id,this.estudiante2).then((e=>{this.dialogMod=!1,this.$q.notify({message:"Estudiante Modificado.",color:"green",icon:"info"}),this.cupoGet()}))},regStudent(){if(this.val)return!1;this.$q.loading.show(),this.$api.post("student",this.estudiante).then((e=>{this.dialogReg=!1,this.$q.notify({message:"Estudiante Registrado.",color:"green",icon:"info"}),this.cupoGet()}))},validar(e){this.$api.post("buscarStudent/"+e).then((e=>{console.log(e.data),this.mensaje="",this.val=!1,e.data&&(this.val=!0,this.mensaje="El CI esta Registrado")})).catch((e=>{console.log(e)})).finally((()=>{}))},cupoRegister(e){window.open("https://jornada.siscenter.org/#/registro/"+e.codigo,"_blank")},cupoReset(e){this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el cupo?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("cupo/"+e.id,{ci:"",nombres:"",apellidos:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.cupoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el cupo",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},cupoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("cupoPdf",this.selected).then((e=>{console.log(e.data),window.open(this.url+"cupoFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},cupoGet(){this.$q.loading.show(),this.store.estudiantes=[],this.$api.get("student").then((e=>{this.estudiantes=e.data})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}};var ct=t(62146);const dt=(0,c.Z)(rt,[["render",nt]]),ut=dt;N()(rt,"components",{QPage:x.Z,QTable:he.Z,QBtn:A.Z,QInput:oe.Z,QIcon:te.Z,QTd:ge.Z,QChip:fe.Z,QDialog:we.Z,QCard:$.Z,QCardSection:k.Z,QForm:ee.Z,QSelect:ve.Z}),N()(rt,"directives",{ClosePopup:ct.Z});const pt=(0,s._)("div",{class:"text-h6"},"Agregar Usuario",-1),mt=(0,s._)("div",{class:"text-h6"},"Agregar Usuario",-1);function ht(e,o,t,a,i,n){const r=(0,s.up)("q-btn"),c=(0,s.up)("q-input"),d=(0,s.up)("q-toolbar"),u=(0,s.up)("q-badge"),p=(0,s.up)("q-td"),m=(0,s.up)("q-table"),h=(0,s.up)("q-card-section"),g=(0,s.up)("q-select"),b=(0,s.up)("q-form"),w=(0,s.up)("q-card"),v=(0,s.up)("q-dialog"),C=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{rows:i.users,columns:i.userColums,filter:i.search},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",icon:"add_circle_outline",onClick:o[0]||(o[0]=e=>{i.showAddUserDialog=!0,i.userCrear=!0})}),(0,s.Wm)(c,{modelValue:i.search,"onUpdate:modelValue":o[1]||(o[1]=e=>i.search=e),outlined:"",dense:"",placeholder:"Buscar..."},null,8,["modelValue"])])),_:1})])),"body-cell-role":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{dense:"","text-color":"white",color:"ADMINISTRADOR"==e.row.role?"red":"INSCRIPCION"==e.row.role?"green":"ACREDITACION"==e.row.role?"blue":"cyan"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.role.substring(0,4)),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-option":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",dense:"",icon:"o_edit",onClick:o=>n.userEdit(e.row)},null,8,["onClick"]),1!=e.row.id?((0,s.wg)(),(0,s.j4)(r,{key:0,flat:"",dense:"",icon:"o_delete",onClick:o=>n.userDelete(e.row)},null,8,["onClick"])):(0,s.kq)("",!0),1!=e.row.id?((0,s.wg)(),(0,s.j4)(r,{key:1,flat:"",dense:"",icon:"o_key",onClick:o=>n.updatePassword(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(v,{modelValue:i.showAddUserDialog,"onUpdate:modelValue":o[6]||(o[6]=e=>i.showAddUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center"},{default:(0,s.w5)((()=>[pt])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:(0,l.iM)(n.userCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:i.user.name,"onUpdate:modelValue":o[2]||(o[2]=e=>i.user.name=e),hint:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(c,{modelValue:i.user.email,"onUpdate:modelValue":o[3]||(o[3]=e=>i.user.email=e),hint:"",required:"",outlined:"",label:"Email"},null,8,["modelValue"]),(0,s.Wm)(c,{modelValue:i.user.password,"onUpdate:modelValue":o[4]||(o[4]=e=>i.user.password=e),type:"password",hint:"",required:"",outlined:"",label:"Password"},null,8,["modelValue"]),(0,s.Wm)(g,{modelValue:i.user.role,"onUpdate:modelValue":o[5]||(o[5]=e=>i.user.role=e),hint:"",required:"",outlined:"",label:"Rol",options:i.roles},null,8,["modelValue","options"]),(0,s.Wm)(r,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Guardar",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(v,{modelValue:i.showUpdateUserDialog,"onUpdate:modelValue":o[10]||(o[10]=e=>i.showUpdateUserDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{width:"700px","max-width":"85vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center"},{default:(0,s.w5)((()=>[mt])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:(0,l.iM)(n.userUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:i.user.name,"onUpdate:modelValue":o[7]||(o[7]=e=>i.user.name=e),hint:"",required:"",outlined:"",label:"Nombre"},null,8,["modelValue"]),(0,s.Wm)(c,{modelValue:i.user.email,"onUpdate:modelValue":o[8]||(o[8]=e=>i.user.email=e),hint:"",required:"",outlined:"",label:"Email"},null,8,["modelValue"]),(0,s.Wm)(g,{modelValue:i.user.role,"onUpdate:modelValue":o[9]||(o[9]=e=>i.user.role=e),hint:"",required:"",outlined:"",label:"Rol",options:i.roles},null,8,["modelValue","options"]),(0,s.Wm)(r,{loading:i.loading,type:"submit",color:"primary",icon:"add_circle_outline",label:"Guardar",class:"full-width"},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const gt={name:"User",data(){return{roles:["INSCRIPCION","ACREDITACION","REFRIGERIO","ADMINISTRADOR"],showAddUserDialog:!1,showUpdateUserDialog:!1,search:"",users:[],user:{},loading:!1,userCrear:!0,userColums:[{name:"option",field:"option",label:"Opciones",align:"left",sortable:!0},{name:"role",field:"role",label:"Rol",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0},{name:"email",label:"Email",field:"email",align:"left",sortable:!0}]}},methods:{userUpdate(){this.loading=!0,this.$api.put(`user/${this.user.id}`,this.user).then((e=>{this.loading=!1,this.showUpdateUserDialog=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",message:"Usuario actualizado"}),this.user={},this.usersGet()})).catch((e=>{this.loading=!1,this.$q.notify({color:"red-4",textColor:"white",icon:"error",message:"Error al actualizar usuario"})}))},usersGet(){this.$q.loading.show(),this.$api.get("user").then((e=>{this.users=e.data,this.$q.loading.hide()}))},userCreate(){this.userCrear?(this.loading=!0,this.$api.post("user",this.user).then((e=>{this.usersGet(),this.showAddUserDialog=!1,this.user={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))):(this.loading=!0,this.$api.put("user/"+this.user.id,this.user).then((e=>{this.usersGet(),this.showAddUserDialog=!1,this.user={},this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})))},userEdit(e){this.user=e,this.userCrear=!1,this.showUpdateUserDialog=!0},updatePassword(e){this.$q.dialog({title:"Cambiar contraseña",message:"Ingrese la nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((o=>{this.$api.put(`updatePassword/${e.id}`,{password:o}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"Contraseña actualizada"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"error",position:"top",message:e.response.data.message})}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},userDelete(e){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar el usuario?",ok:"Si",cancel:"No"}).onOk((()=>{this.$q.loading.show(),this.$api.delete("user/"+e.id).then((e=>{this.usersGet()}))}))}},created(){this.usersGet()}};var ft=t(20990);const bt=(0,c.Z)(gt,[["render",ht]]),wt=bt;N()(gt,"components",{QPage:x.Z,QTable:he.Z,QToolbar:Ve.Z,QBtn:A.Z,QInput:oe.Z,QTd:ge.Z,QBadge:ft.Z,QDialog:we.Z,QCard:$.Z,QCardSection:k.Z,QForm:ee.Z,QSelect:ve.Z});const vt=(0,s._)("div",{class:"text-h6"},"Evento",-1);function Ct(e,o,t,l,a,i){const n=(0,s.up)("q-btn"),r=(0,s.up)("q-chip"),c=(0,s.up)("q-td"),d=(0,s.up)("q-img"),u=(0,s.up)("q-table"),p=(0,s.up)("q-card-section"),m=(0,s.up)("q-input"),h=(0,s.up)("q-select"),g=(0,s.up)("q-card-actions"),b=(0,s.up)("q-form"),w=(0,s.up)("q-card"),v=(0,s.up)("q-dialog"),C=(0,s.up)("q-page"),I=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{"virtual-scroll":"","virtual-scroll-item-size":48,"selected-rows-label":i.getSelectedString,selected:a.selected,"onUpdate:selected":o[1]||(o[1]=e=>a.selected=e),title:"Eventos",selection:"multiple",dense:"","rows-per-page-options":[15,100,150,500],rows:a.eventos,columns:a.eventoColumns,filter:a.eventoSearch},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",round:"",dense:"",icon:"o_print",onClick:i.eventoPrint},null,8,["onClick"]),(0,s.Wm)(n,{flat:"",round:"",dense:"",icon:"refresh",onClick:o[0]||(o[0]=e=>{i.eventoGet(),a.eventoSearch=""})}),(0,s.Wm)(n,{color:"green",dense:"",icon:"add_circle_outline",onClick:i.eventoAdd,label:"Agregar","no-caps":""},null,8,["onClick"])])),"body-cell-estado":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e},{default:(0,s.w5)((()=>["ADMINISTRADOR"==a.store.user.role?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)(n,{flat:"",round:"",dense:"",icon:"qr_code",onClick:o=>i.qrPrint(e.row)},null,8,["onClick"]),(0,s.Wm)(n,{flat:"",round:"",dense:"",icon:"public",onClick:o=>i.eventoRegister(e.row)},null,8,["onClick"]),(0,s.Wm)(n,{flat:"",round:"",dense:"",icon:"edit",onClick:o=>i.editClickEvent(e.row)},null,8,["onClick"]),(0,s.Wm)(n,{flat:"",round:"",dense:"",icon:"how_to_vote",onClick:o=>i.eventoChange(e.row)},null,8,["onClick"])],64)):(0,s.kq)("",!0),"REFRIGERIO"==a.store.user.role?((0,s.wg)(),(0,s.j4)(n,{key:1,flat:"",round:"",dense:"",icon:"how_to_vote",onClick:o=>i.eventoChange(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-foto":(0,s.w5)((e=>[(0,s.Wm)(c,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",round:"",dense:"",icon:"o_rotate_90_degrees_cw",onClick:o=>i.rotateFoto(e.row)},null,8,["onClick"]),(0,s.Wm)(d,{onClick:o=>i.fotoShow(e.row),src:a.url+"../imagenes/"+e.row.foto,width:"30px",height:"30px"},null,8,["onClick","src"])])),_:2},1032,["props"])])),_:1},8,["selected-rows-label","selected","rows","columns","filter"]),(0,s.Wm)(v,{modelValue:a.eventoDialog,"onUpdate:modelValue":o[8]||(o[8]=e=>a.eventoDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{style:{"max-width":"400px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[vt])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:i.eventoUpdate},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{modelValue:a.evento.nombre,"onUpdate:modelValue":o[2]||(o[2]=e=>a.evento.nombre=e),label:"Nombre",outlined:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),(0,s.Wm)(m,{modelValue:a.evento.descripcion,"onUpdate:modelValue":o[3]||(o[3]=e=>a.evento.descripcion=e),label:"Descripción",outlined:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),(0,s.Wm)(m,{modelValue:a.evento.fecha_inicio,"onUpdate:modelValue":o[4]||(o[4]=e=>a.evento.fecha_inicio=e),label:"Inicio",type:"datetime-local",outlined:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),(0,s.Wm)(m,{modelValue:a.evento.fecha_fin,"onUpdate:modelValue":o[5]||(o[5]=e=>a.evento.fecha_fin=e),label:"Fin",type:"datetime-local",outlined:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),(0,s.Wm)(m,{modelValue:a.evento.cupos,"onUpdate:modelValue":o[6]||(o[6]=e=>a.evento.cupos=e),label:"Cupos",type:"number",outlined:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),(0,s.Wm)(h,{modelValue:a.evento.estado,"onUpdate:modelValue":o[7]||(o[7]=e=>a.evento.estado=e),label:"Estado",outlined:"",options:["ACTIVO","INACTIVO"],rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),(0,s.Wm)(g,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{flat:"",label:"Cancelar"},null,512),[[I]]),(0,s.Wm)(n,{color:"primary",label:"Guardar",type:"submit"})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var It=t(43878),qt=t.n(It);const _t={name:"Cupo",data(){return{selected:[],url:"https://bjornada.siscenter.org/api/",eventoSearch:"",store:(0,H.A)(),eventos:[],eventoUpdateShow:!1,valida:!0,eventoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombre",align:"left",sortable:!0},{name:"descripcion",label:"Descripción",field:"descripcion",align:"left",sortable:!0},{name:"codigo",label:"Código",field:"codigo",align:"left",sortable:!0},{name:"fecha_inicio",label:"Inicio",field:"fecha_inicio",align:"left",sortable:!0},{name:"fecha_fin",label:"Fin",field:"fecha_fin",align:"left",sortable:!0},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"cupos",label:"Cupos",field:"cupos",align:"left",sortable:!0}],eventoDialog:!1,evento:{id:0,nombre:"",descripcion:"",codigo:"",fecha_inicio:"",fecha_fin:"",estado:"",cupos:0}}},created(){this.eventoGet()},computed:{},methods:{eventoUpdate(){0===this.evento.id?this.$api.post("evento",this.evento).then((e=>{this.$q.notify({message:"Evento creado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.eventoDialog=!1,this.eventoGet()})).catch((e=>{this.$q.notify({message:"Error al crear el evento",color:"red-4",textColor:"white",icon:"error",position:"top"})})):this.$api.put("evento/"+this.evento.id,this.evento).then((e=>{this.$q.notify({message:"Evento actualizado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.eventoDialog=!1,this.eventoGet()})).catch((e=>{this.$q.notify({message:"Error al actualizar el evento",color:"red-4",textColor:"white",icon:"error",position:"top"})}))},qrPrint(e){pe.toDataURL("https://jornada.siscenter.org/#/evento/"+e.codigo).then((e=>{this.$q.dialog({title:"Código QR",message:`<a href="${e}" target="_blank"><div style="text-align: center"><img src="${e}" /></div></a>`,html:!0,ok:!1,cancel:{label:"Cerrar",color:"primary",flat:!0,noDismiss:!0}})})).catch((e=>{console.error(e)}))},eventoRegister(e){window.open("https://jornada.siscenter.org/#/evento/"+e.codigo,"_blank")},rotateFoto(e){this.$q.dialog({title:"Rotar Foto",message:"¿Desea rotar la foto?",ok:{label:"Rotar",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"Cancelar",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$q.loading.show(),this.$api.post(this.url+"rotateFoto",e).then((o=>{e.foto=o.data.foto,this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide(),console.log(e)}))}))},eventoChange(e){this.$router.push("/eventoShow/"+e.id)},eventoReset(e){if(this.valido=!0,e.materials.forEach((e=>{1==e.estado&&(this.valido=!1)})),!this.valido)return this.$q.notify({message:"Existe registro material",color:"red-4",textColor:"white",icon:"info",position:"top"}),!1;this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el evento?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("evento/"+e.id,{ci:"",nombres:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.eventoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el evento",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},editClickEvent(e){this.evento={...e},this.eventoDialog=!0},eventoAdd(){this.evento={id:0,nombre:"",descripcion:"",fecha_inicio:qt()().format("YYYY-MM-DDTHH:mm"),fecha_fin:qt()().format("YYYY-MM-DDTHH:mm"),cupos:0},this.eventoDialog=!0},eventoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("eventoPdf",this.selected).then((e=>{console.log(e.data),window.open(this.url+"eventoFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} registro${this.selected.length>1?"s":""} seleccionados de ${this.store.eventos.length}`},fotoShow(e){this.$q.dialog({title:"Foto",message:'<img src="'+this.url+"../imagenes/"+e.foto+'" width="100%" />',html:!0,persistent:!0,ok:{label:"Cerrar",color:"primary"}})},CambioTipo(){this.$q.loading.show(),this.$api.post("updateTipo",this.evento).then((e=>{})).catch((e=>{console.log(e)})).finally((()=>{this.eventoUpdateShow=!1,this.$q.loading.hide()}))},eventoGet(){this.$q.loading.show(),this.store.eventos=[],this.eventos=[],this.$api.get("evento").then((e=>{e.data.forEach((e=>{this.eventos.push(e)}))})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}};var yt=t(11821);const Et=(0,c.Z)(_t,[["render",Ct]]),xt=Et;N()(_t,"components",{QPage:x.Z,QTable:he.Z,QBtn:A.Z,QInput:oe.Z,QIcon:te.Z,QTd:ge.Z,QChip:fe.Z,QImg:be.Z,QDialog:we.Z,QCard:$.Z,QCardSection:k.Z,QForm:ee.Z,QSelect:ve.Z,QCardActions:yt.Z}),N()(_t,"directives",{ClosePopup:ct.Z});const $t=(0,s._)("br",null,null,-1),kt={class:"text-subtitle1"},At=(0,s._)("br",null,null,-1),Wt=(0,s._)("br",null,null,-1),Nt=(0,s._)("br",null,null,-1),Rt={class:"text-red text-subtitle2 text-h6"},jt={key:0,class:"flex flex-center text-bold text-center text-h2 text-red-5"},Dt={class:"row"},St={class:"col-12 col-sm-12 q-px-xs"},Vt=(0,s._)("div",{class:"text-caption"}," Porfavor ingrese el carnet de identidad del estudiante y su nombre aparecera automaticamente ",-1);function Ot(e,o,t,a,i,n){const r=(0,s.up)("q-toolbar-title"),c=(0,s.up)("q-toolbar"),d=(0,s.up)("q-header"),u=(0,s.up)("q-input"),p=(0,s.up)("q-btn"),m=(0,s.up)("q-form"),h=(0,s.up)("q-page"),g=(0,s.up)("router-view"),b=(0,s.up)("q-page-container"),w=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(w,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"text-bold text-primary text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Evento: "+(0,f.zw)(i.evento.nombre)+" ",1),$t,(0,s._)("div",kt,[(0,s.Uk)(" Desc: "+(0,f.zw)(i.evento.descripcion)+" ",1),At,(0,s.Uk)(" Desde: "+(0,f.zw)(i.evento.fecha_inicio)+" ",1),Wt,(0,s.Uk)(" Hasta: "+(0,f.zw)(i.evento.fecha_fin)+" ",1),Nt,(0,s.Uk)(" Cupos: "),(0,s._)("span",Rt,(0,f.zw)(i.evento.libres),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[void 0==i.evento.id?((0,s.wg)(),(0,s.iD)("div",jt," El evento no existe ")):((0,s.wg)(),(0,s.j4)(m,{key:1,class:"q-pa-lg",onSubmit:(0,l.iM)(n.cupoUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Dt,[(0,s._)("div",St,[Vt,(0,s.Wm)(u,{"onUpdate:modelValue":[n.studentSearch,o[0]||(o[0]=e=>i.ci=e)],modelValue:i.ci,label:"Carnet de identidad",outlined:"",required:"",class:"q-mb-md",debounce:"500"},null,8,["onUpdate:modelValue","modelValue"]),(0,s.Wm)(u,{modelValue:i.nombres,"onUpdate:modelValue":o[1]||(o[1]=e=>i.nombres=e),label:"Nombres",outlined:"",readonly:"",class:"q-mb-md",loading:i.loadingText},null,8,["modelValue","loading"]),(0,s.Wm)(u,{modelValue:i.carrera,"onUpdate:modelValue":o[2]||(o[2]=e=>i.carrera=e),label:"Carrera",outlined:"",readonly:"",class:"q-mb-md",loading:i.loadingText},null,8,["modelValue","loading"]),(0,s.Wm)(p,{color:"primary",label:"Validar",onClick:n.registrar,icon:"mdi-check",class:"full-width q-mb-md","no-caps":"",size:" 30px",loading:i.loading},null,8,["onClick","loading"])])])])),_:1},8,["onSubmit"]))])),_:1})])),_:1})])),_:1})])),_:1})}const Ut={name:"Registro",data(){return{cupoBool:!0,foto:"",ci:"",nombres:"",carrera:"",loading:!1,codigo:this.$route.params.id,evento:{},reg:!1,mensaje:"",loadingText:!1}},created(){this.$q.loading.show(),this.$api.get(`eventoSearch/${this.codigo}`).then((e=>{this.evento=e.data})).finally((()=>{this.$q.loading.hide()}))},mounted(){},methods:{registrar(){this.loading=!0,this.$api.get("eventoCupoRegister/"+this.ci+"/"+this.codigo).then((e=>{this.$q.notify({message:"Cupo registrado",color:"positive",icon:"check_circle",position:"top"}),this.ci="",this.nombres="",this.carrera="",this.$api.get(`eventoSearch/${this.codigo}`).then((e=>{this.evento=e.data})).finally((()=>{this.$q.loading.hide()}))})).finally((()=>{this.loading=!1})).catch((e=>{this.$q.notify({message:e.response.data.message,type:"negative",icon:"warning",position:"top"})}))},validar(e){this.$api.post("validaCupon/"+e).then((e=>{console.log(e.data),this.reg=!1,this.mensaje="",e.data&&e.data.id!=this.cupo.id&&(this.reg=!0,this.mensaje="El ci esta registrado")}))},impresion(){let e=this;var o=new ue.kH("P","cm","letter");o.setFont("courier");var t=new Image;t.src="baner.jpg",o.addImage(t,"jpg",1,.5,19,2),o.setFont(void 0,"bold"),o.setFontSize(12),o.text(5,3,"II JORNADAS DE TECNOLGIAS DE COMUNICACION 2022"),o.text(8,3.5,"FORMULARIO DE INSCRIPCION"),o.text(8,4.5,"DATOS DEL PARTICIPANTE"),o.text(3,5,"CI"),o.text(3,5.5,"NOMBRE"),o.text(3,6,"CARRERA"),o.text(3,6.5,"CELULAR"),o.text(3,7,"CORREO"),o.setFont(void 0,"normal"),o.text(6,5,e.cupo.ci+""),o.text(6,5.5,e.cupo.nombres),o.text(6,6,e.cupo.carrera),o.text(6,6.5,null==e.cupo.celular?"":e.cupo.celular),o.text(6,7,null==e.cupo.correo?"":e.cupo.correo),o.save(e.cupo.ci+".pdf")},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},uploadFile(e){this.loading=!0;let o=this.$q.dialog({message:"Subiendo... 0%"}),t=0;const l=new FormData;return l.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",l,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{t=Math.round(e.loaded/e.total*100),o.update({message:`Subiendo... ${t}%`}),t>=100&&o.hide()}}).then((o=>{this.foto=o.data,this.loading=!1,a(e)})).catch((e=>i(e)))}))},studentSearch(e){if(this.nombres="",this.carrera="",e.length<4)return!1;this.loadingText=!0,this.$api.get(`searchStudent/${e}/${this.codigo}`).then((e=>{if(console.log(e.data),null==e.data)return!1;this.nombres=e.data.nombres,this.carrera=e.data.carrera})).catch((e=>{this.$q.notify({message:e.response.data.message,type:"negative",icon:"warning",position:"top"})})).finally((()=>{this.loadingText=!1}))},cupoUpdate(){return!this.reg&&(""==this.foto?(this.$q.notify({message:"Tienes que subir una foto",type:"negative",icon:"warning",position:"top"}),!1):void this.$q.dialog({title:"Confirmación",message:"¿Estas seguro de registrar este cupo?",cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),this.cupo.foto=this.foto,this.cupo.nombres=this.cupo.nombres.toUpperCase(),this.$api.put(`updateRegistro/${this.cupo.id}`,this.cupo).then((e=>{console.log(this.cupo),console.log(e.data),this.impresion(this.cupo),this.$q.notify({message:"Cupo registrado",color:"positive",icon:"check_circle",position:"top"}),this.cupoBool=!0})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"negative",icon:"warning",position:"top"})})).finally((()=>{this.$q.loading.hide()}))})))}}},Tt=(0,c.Z)(Ut,[["render",Ot]]),Zt=Tt;N()(Ut,"components",{QLayout:K.Z,QHeader:Se.Z,QToolbar:Ve.Z,QToolbarTitle:Oe.Z,QPageContainer:X.Z,QPage:x.Z,QForm:ee.Z,QInput:oe.Z,QBtn:A.Z});const Mt={class:"col-6 text-h5 text-bold text-center",style:{"text-transform":"uppercase"}},Pt=(0,s._)("br",null,null,-1),Qt={class:"text-h6"},Lt={class:"col-12"},Ft={class:"col-12 q-pa-xs",align:"center"},zt={class:"row"},Gt={class:"col-12 col-md-3"},Bt={class:"col-12 col-md-3"},Yt={class:"col-12 col-md-3"},Ht={class:"col-12 col-md-3"},Jt={class:"col-12"};function Kt(e,o,t,l,a,i){const n=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-card-section"),d=(0,s.up)("q-icon"),u=(0,s.up)("q-item-section"),p=(0,s.up)("q-item-label"),m=(0,s.up)("q-item"),h=(0,s.up)("q-badge"),g=(0,s.up)("q-td"),b=(0,s.up)("q-chip"),w=(0,s.up)("q-table"),v=(0,s.up)("q-card"),C=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(C,{class:"bg-grey-3"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",Mt,[(0,s.Uk)((0,f.zw)(a.evento.nombre),1),Pt,(0,s._)("span",Qt,(0,f.zw)(a.evento.descripcion),1)]),(0,s._)("div",Lt,[(0,s.Wm)(n,{dense:"",square:"",outlined:"",modelValue:a.cedula,"onUpdate:modelValue":o[0]||(o[0]=e=>a.cedula=e),label:"Carnet"},null,8,["modelValue"])]),(0,s._)("div",Ft,[(0,s.Wm)(r,{color:"green",label:"Registrar",onClick:i.registro,loading:a.loading},null,8,["onClick","loading"])])])),_:1}),(0,s._)("div",zt,[(0,s._)("div",Gt,[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"event",size:"2rem"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"text-grey text-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)("Fecha Inicio")])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(a.evento.fecha_inicio),1)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Bt,[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"event",size:"2rem"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"text-grey text-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cupos")])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{color:"primary","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(a.evento.cupos),1)])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Yt,[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"event",size:"2rem"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"text-grey text-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)("Libres")])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{color:"orange","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(a.evento.libres),1)])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Ht,[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"event",size:"2rem"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"text-grey text-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)("Entregados")])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{color:"green","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(a.evento.registrados),1)])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Jt,[(0,s.Wm)(w,{"rows-per-page-options":[0],rows:a.evento.cupo,columns:a.columns,"row-key":"id",filter:a.search},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:a.search,"onUpdate:modelValue":o[1]||(o[1]=e=>a.search=e),debounce:"500",placeholder:"Buscar",outlined:"",dense:"",clearable:""},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opcion":(0,s.w5)((o=>[(0,s.Wm)(g,{props:o},{default:(0,s.w5)((()=>["PENDIENTE"==o.row.estado||"ANULADO"==o.row.estado?((0,s.wg)(),(0,s.j4)(r,{key:0,color:"green",outline:"",label:"Validar","no-caps":"",onClick:e=>i.registrar(o.row,"REGISTRADO"),icon:"mdi-check",dense:"",loading:a.loading},null,8,["onClick","loading"])):"ADMINISTRADOR"==e.$store.role?((0,s.wg)(),(0,s.j4)(r,{key:1,color:"red",outline:"",label:"Anular","no-caps":"",onClick:e=>i.registrar(o.row,"ANULADO"),icon:"mdi-close",dense:"",loading:a.loading},null,8,["onClick","loading"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-estado":(0,s.w5)((e=>[(0,s.Wm)(g,{props:e},{default:(0,s.w5)((()=>["PENDIENTE"==e.row.estado?((0,s.wg)(),(0,s.j4)(b,{key:0,color:"orange","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Pendiente")])),_:1})):(0,s.kq)("",!0),"REGISTRADO"==e.row.estado?((0,s.wg)(),(0,s.j4)(b,{key:1,color:"green","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Registrado")])),_:1})):(0,s.kq)("",!0),"ANULADO"==e.row.estado?((0,s.wg)(),(0,s.j4)(b,{key:2,color:"red","text-color":"white",dense:""},{default:(0,s.w5)((()=>[(0,s.Uk)("Anulado")])),_:1})):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])])])),_:1})])),_:1})}const Xt={name:"ShowEvento",data(){return{store:(0,H.A)(),evento:{},cedula:"",loading:!1,search:"",id:this.$route.params.id,mensaje:"",columns:[{name:"opcion",label:"Opcion",align:"center",field:e=>e.opcion},{name:"estado",label:"Estado",align:"center",field:e=>e.estado},{name:"student",label:"Estudiante",align:"center",field:e=>e.cupo_registro?.nombres},{name:"ci",label:"Carnet",align:"center",field:e=>e.ci},{name:"fecha_registro",label:"Fecha Registro",align:"center",field:e=>e.fecha_registro},{name:"user_id",label:"Usuario",align:"center",field:e=>e.user?.name}]}},created(){this.eventoGet()},methods:{eventoGet(){this.$api.get(`evento/${this.$route.params.id}`).then((e=>{this.evento=e.data})).finally((()=>{}))},registrar(e,o){this.loading=!0,this.$api.put("registroEvento/"+e.id,{estado:o}).then((e=>{this.$q.notify({message:o,icon:"info",color:"green",position:"top"}),this.eventoGet()})).catch((e=>{this.$q.notify({message:e.response.data.message,type:"negative",icon:"warning",position:"top"})})).finally((()=>{this.loading=!1}))},registro(){this.$api.post("buscarEventoEst",{id:this.id,ci:this.cedula}).then((e=>{console.log(e.data),this.$q.notify({message:"REGISTRADO",icon:"info",color:"green",position:"top"})})).catch((e=>{this.$q.notify({message:e.response.data.message,type:"negative",icon:"warning",position:"top"})}))}}};var el=t(490),ol=t(76749),tl=t(33115);const ll=(0,c.Z)(Xt,[["render",Kt]]),al=ll;N()(Xt,"components",{QPage:x.Z,QCard:$.Z,QCardSection:k.Z,QInput:oe.Z,QBtn:A.Z,QItem:el.Z,QItemSection:ol.Z,QIcon:te.Z,QItemLabel:tl.Z,QBadge:ft.Z,QTable:he.Z,QTd:ge.Z,QChip:fe.Z});const il=[{path:"/",component:()=>Promise.all([t.e(736),t.e(909)]).then(t.bind(t,6909)),children:[{path:"",component:j,meta:{requiresAuth:!0}},{path:"cupo",component:Ie,meta:{requiresAuth:!0}},{path:"credencial",component:Fe,meta:{requiresAuth:!0}},{path:"certificado",component:Ye,meta:{requiresAuth:!0}},{path:"material",component:Oo,meta:{requiresAuth:!0}},{path:"refrigerio",component:lt,meta:{requiresAuth:!0}},{path:"estudiantes",component:ut,meta:{requiresAuth:!0}},{path:"user",component:wt,meta:{requiresAuth:!0}},{path:"evento",component:xt,meta:{requiresAuth:!0}},{path:"eventoShow/:id",component:al,meta:{requiresAuth:!0}}]},{path:"/login",component:ie},{path:"/registro/:id",component:Ze},{path:"/evento/:id",component:Zt,meta:{requiresAuth:!0}},{path:"/:catchAll(.*)*",component:()=>t.e(862).then(t.bind(t,91862))}],sl=il,nl=(0,p.BC)((function(){const e=g.r5,o=(0,g.p7)({scrollBehavior:()=>({left:0,top:0}),routes:sl,history:e("")});return o.beforeEach(((e,o,t)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,H.A)().isLoggedIn)return void t();t("/login")}else t()})),o}));async function rl(e,o){const t=e(u);t.use(a.Z,o);const l="function"===typeof h?await h({}):h;t.use(l);const s=(0,i.Xl)("function"===typeof nl?await nl({store:l}):nl);return l.use((({store:e})=>{e.router=s})),{app:t,store:l,router:s}}var cl=t(8934),dl=t(6827),ul=t(26950),pl=t(97286);const ml={config:{},lang:cl.Z,plugins:{Notify:dl.Z,Loading:ul.Z,Dialog:pl.Z}};var hl=t(70368);(0,hl.z)("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&t.e(736).then(t.t.bind(t,84848,23));const gl="";async function fl({app:e,router:o,store:t},l){let a=!1;const i=e=>{try{return o.resolve(e).href}catch(t){}return Object(e)===e?null:e},s=e=>{if(a=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const o=i(e);null!==o&&(window.location.href=o,window.location.reload())},n=window.location.href.replace(window.location.origin,"");for(let c=0;!1===a&&c<l.length;c++)try{await l[c]({app:e,router:o,store:t,ssrContext:null,redirect:s,urlPath:n,publicPath:gl})}catch(r){return r&&r.url?void s(r.url):void console.error("[Quasar] boot error:",r)}!0!==a&&(e.use(o),e.mount("#q-app"))}rl(l.ri,ml).then((e=>{const[o,l]=void 0!==Promise.allSettled?["allSettled",e=>e.map((e=>{if("rejected"!==e.status)return e.value.default;console.error("[Quasar] boot error:",e.reason)}))]:["all",e=>e.map((e=>e.default))];return Promise[o]([Promise.resolve().then(t.bind(t,91569))]).then((o=>{const t=l(o).filter((e=>"function"===typeof e));fl(e,t)}))}))},91569:(e,o,t)=>{"use strict";t.r(o),t.d(o,{api:()=>n,default:()=>r});t(69665);var l=t(23340),a=t(39981),i=t.n(a),s=t(77292);const n=i().create({baseURL:"https://bjornada.siscenter.org/api/"}),r=(0,l.xr)((({app:e,router:o})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=n,e.config.globalProperties.$store=(0,s.A)();const t=localStorage.getItem("tokenJor");t?(e.config.globalProperties.$api.defaults.headers.common["Authorization"]="Bearer "+t,e.config.globalProperties.$api.post("me").then((e=>{(0,s.A)().user=e.data,(0,s.A)().isLoggedIn=!0})).catch((t=>{e.config.globalProperties.$api.defaults.headers.common["Authorization"]="",(0,s.A)().user={},localStorage.removeItem("tokenJor"),(0,s.A)().isLoggedIn=!1,o.push("/login")}))):(o.push("/login"),(0,s.A)().user={},localStorage.removeItem("tokenJor"),(0,s.A)().isLoggedIn=!1)}))},77292:(e,o,t)=>{"use strict";t.d(o,{A:()=>a});var l=t(81809);const a=(0,l.Q_)("counter",{state:()=>({counter:0,user:{},isLoggedIn:!!localStorage.getItem("tokenJor"),cupo:{},cupos:[]}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}}})},46700:(e,o,t)=>{var l={"./af":73902,"./af.js":73902,"./ar":36314,"./ar-dz":75666,"./ar-dz.js":75666,"./ar-kw":76591,"./ar-kw.js":76591,"./ar-ly":7900,"./ar-ly.js":7900,"./ar-ma":5667,"./ar-ma.js":5667,"./ar-ps":98015,"./ar-ps.js":98015,"./ar-sa":36335,"./ar-sa.js":36335,"./ar-tn":86916,"./ar-tn.js":86916,"./ar.js":36314,"./az":1699,"./az.js":1699,"./be":98988,"./be.js":98988,"./bg":97437,"./bg.js":97437,"./bm":97947,"./bm.js":97947,"./bn":12851,"./bn-bd":34905,"./bn-bd.js":34905,"./bn.js":12851,"./bo":97346,"./bo.js":97346,"./br":1711,"./br.js":1711,"./bs":63706,"./bs.js":63706,"./ca":70112,"./ca.js":70112,"./cs":36406,"./cs.js":36406,"./cv":41853,"./cv.js":41853,"./cy":39766,"./cy.js":39766,"./da":36836,"./da.js":36836,"./de":59320,"./de-at":14904,"./de-at.js":14904,"./de-ch":26710,"./de-ch.js":26710,"./de.js":59320,"./dv":73274,"./dv.js":73274,"./el":80286,"./el.js":80286,"./en-au":30143,"./en-au.js":30143,"./en-ca":237,"./en-ca.js":237,"./en-gb":82428,"./en-gb.js":82428,"./en-ie":53349,"./en-ie.js":53349,"./en-il":13764,"./en-il.js":13764,"./en-in":67809,"./en-in.js":67809,"./en-nz":59851,"./en-nz.js":59851,"./en-sg":95594,"./en-sg.js":95594,"./eo":4483,"./eo.js":4483,"./es":62184,"./es-do":25777,"./es-do.js":25777,"./es-mx":89356,"./es-mx.js":89356,"./es-us":68496,"./es-us.js":68496,"./es.js":62184,"./et":97578,"./et.js":97578,"./eu":2092,"./eu.js":2092,"./fa":15927,"./fa.js":15927,"./fi":50171,"./fi.js":50171,"./fil":82416,"./fil.js":82416,"./fo":89937,"./fo.js":89937,"./fr":55172,"./fr-ca":77495,"./fr-ca.js":77495,"./fr-ch":97541,"./fr-ch.js":97541,"./fr.js":55172,"./fy":37907,"./fy.js":37907,"./ga":66361,"./ga.js":66361,"./gd":2282,"./gd.js":2282,"./gl":52630,"./gl.js":52630,"./gom-deva":80680,"./gom-deva.js":80680,"./gom-latn":66220,"./gom-latn.js":66220,"./gu":57506,"./gu.js":57506,"./he":5540,"./he.js":5540,"./hi":46067,"./hi.js":46067,"./hr":79669,"./hr.js":79669,"./hu":13396,"./hu.js":13396,"./hy-am":36678,"./hy-am.js":36678,"./id":44812,"./id.js":44812,"./is":94193,"./is.js":94193,"./it":67863,"./it-ch":959,"./it-ch.js":959,"./it.js":67863,"./ja":41809,"./ja.js":41809,"./jv":28657,"./jv.js":28657,"./ka":33290,"./ka.js":33290,"./kk":98418,"./kk.js":98418,"./km":77687,"./km.js":77687,"./kn":21375,"./kn.js":21375,"./ko":32641,"./ko.js":32641,"./ku":83518,"./ku-kmr":98738,"./ku-kmr.js":98738,"./ku.js":83518,"./ky":85459,"./ky.js":85459,"./lb":91978,"./lb.js":91978,"./lo":86915,"./lo.js":86915,"./lt":8948,"./lt.js":8948,"./lv":12548,"./lv.js":12548,"./me":98608,"./me.js":98608,"./mi":50333,"./mi.js":50333,"./mk":76611,"./mk.js":76611,"./ml":10999,"./ml.js":10999,"./mn":54098,"./mn.js":54098,"./mr":86111,"./mr.js":86111,"./ms":73717,"./ms-my":90265,"./ms-my.js":90265,"./ms.js":73717,"./mt":28980,"./mt.js":28980,"./my":96895,"./my.js":96895,"./nb":15348,"./nb.js":15348,"./ne":31493,"./ne.js":31493,"./nl":34419,"./nl-be":85576,"./nl-be.js":85576,"./nl.js":34419,"./nn":46907,"./nn.js":46907,"./oc-lnc":12321,"./oc-lnc.js":12321,"./pa-in":89239,"./pa-in.js":89239,"./pl":97627,"./pl.js":97627,"./pt":15703,"./pt-br":91623,"./pt-br.js":91623,"./pt.js":15703,"./ro":22747,"./ro.js":22747,"./ru":64420,"./ru.js":64420,"./sd":52148,"./sd.js":52148,"./se":12461,"./se.js":12461,"./si":12783,"./si.js":12783,"./sk":93306,"./sk.js":93306,"./sl":341,"./sl.js":341,"./sq":8608,"./sq.js":8608,"./sr":72451,"./sr-cyrl":73371,"./sr-cyrl.js":73371,"./sr.js":72451,"./ss":8812,"./ss.js":8812,"./sv":53820,"./sv.js":53820,"./sw":43615,"./sw.js":43615,"./ta":12869,"./ta.js":12869,"./te":12044,"./te.js":12044,"./tet":65861,"./tet.js":65861,"./tg":66999,"./tg.js":66999,"./th":20926,"./th.js":20926,"./tk":97443,"./tk.js":97443,"./tl-ph":59786,"./tl-ph.js":59786,"./tlh":92812,"./tlh.js":92812,"./tr":16952,"./tr.js":16952,"./tzl":9573,"./tzl.js":9573,"./tzm":55990,"./tzm-latn":92851,"./tzm-latn.js":92851,"./tzm.js":55990,"./ug-cn":52610,"./ug-cn.js":52610,"./uk":9498,"./uk.js":9498,"./ur":83970,"./ur.js":83970,"./uz":19006,"./uz-latn":26,"./uz-latn.js":26,"./uz.js":19006,"./vi":9962,"./vi.js":9962,"./x-pseudo":68407,"./x-pseudo.js":68407,"./yo":91962,"./yo.js":91962,"./zh-cn":28909,"./zh-cn.js":28909,"./zh-hk":34014,"./zh-hk.js":34014,"./zh-mo":90996,"./zh-mo.js":90996,"./zh-tw":36327,"./zh-tw.js":36327};function a(e){var o=i(e);return t(o)}function i(e){if(!t.o(l,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return l[e]}a.keys=function(){return Object.keys(l)},a.resolve=i,e.exports=a,a.id=46700}},o={};function t(l){var a=o[l];if(void 0!==a)return a.exports;var i=o[l]={id:l,loaded:!1,exports:{}};return e[l].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=e,(()=>{var e=[];t.O=(o,l,a,i)=>{if(!l){var s=1/0;for(d=0;d<e.length;d++){for(var[l,a,i]=e[d],n=!0,r=0;r<l.length;r++)(!1&i||s>=i)&&Object.keys(t.O).every((e=>t.O[e](l[r])))?l.splice(r--,1):(n=!1,i<s&&(s=i));if(n){e.splice(d--,1);var c=a();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[l,a,i]}})(),(()=>{t.n=e=>{var o=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(o,{a:o}),o}})(),(()=>{var e,o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(l,a){if(1&a&&(l=this(l)),8&a)return l;if("object"===typeof l&&l){if(4&a&&l.__esModule)return l;if(16&a&&"function"===typeof l.then)return l}var i=Object.create(null);t.r(i);var s={};e=e||[null,o({}),o([]),o(o)];for(var n=2&a&&l;"object"==typeof n&&!~e.indexOf(n);n=o(n))Object.getOwnPropertyNames(n).forEach((e=>s[e]=()=>l[e]));return s["default"]=()=>l,t.d(i,s),i}})(),(()=>{t.d=(e,o)=>{for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((o,l)=>(t.f[l](e,o),o)),[]))})(),(()=>{t.u=e=>"js/"+e+"."+{862:"eb755da5",909:"a9b593ef"}[e]+".js"})(),(()=>{t.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"125f1a42",736:"4cde08dd"}[e]+".css"})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o)})(),(()=>{var e={},o="front:";t.l=(l,a,i,s)=>{if(e[l])e[l].push(a);else{var n,r;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==l||u.getAttribute("data-webpack")==o+i){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,t.nc&&n.setAttribute("nonce",t.nc),n.setAttribute("data-webpack",o+i),n.src=l),e[l]=[a];var p=(o,t)=>{n.onerror=n.onload=null,clearTimeout(m);var a=e[l];if(delete e[l],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((e=>e(t))),o)return o(t)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),r&&document.head.appendChild(n)}}})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{t.p=""})(),(()=>{var e={143:0};t.f.j=(o,l)=>{var a=t.o(e,o)?e[o]:void 0;if(0!==a)if(a)l.push(a[2]);else{var i=new Promise(((t,l)=>a=e[o]=[t,l]));l.push(a[2]=i);var s=t.p+t.u(o),n=new Error,r=l=>{if(t.o(e,o)&&(a=e[o],0!==a&&(e[o]=void 0),a)){var i=l&&("load"===l.type?"missing":l.type),s=l&&l.target&&l.target.src;n.message="Loading chunk "+o+" failed.\n("+i+": "+s+")",n.name="ChunkLoadError",n.type=i,n.request=s,a[1](n)}};t.l(s,r,"chunk-"+o,o)}},t.O.j=o=>0===e[o];var o=(o,l)=>{var a,i,[s,n,r]=l,c=0;if(s.some((o=>0!==e[o]))){for(a in n)t.o(n,a)&&(t.m[a]=n[a]);if(r)var d=r(t)}for(o&&o(l);c<s.length;c++)i=s[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},l=globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var l=t.O(void 0,[736],(()=>t(32991)));l=t.O(l)})();