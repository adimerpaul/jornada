(()=>{"use strict";var e={8990:(e,o,t)=>{t(8964);var l=t(1957),r=t(1947),a=t(499),i=t(9835);function n(e,o,t,l,r,a){const n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(n)}const s=(0,i.aZ)({name:"App"});var c=t(1639);const d=(0,c.Z)(s,[["render",n]]),u=d;var p=t(3340),m=t(1809);const h=(0,p.h)((()=>{const e=(0,m.WB)();return e}));var g=t(8339),f=t(6970);const b={class:"row"},w={class:"col-12 col-sm-6 q-pa-md"},C={class:"text-h6 text-white"},q={class:"text-h2 text-white"},v={class:"col-12 col-sm-6 q-pa-md"},I={class:"text-h6 text-white"},y={class:"text-h2 text-white"};function _(e,o,t,l,r,a){const n=(0,i.up)("q-btn"),s=(0,i.up)("q-card-section"),c=(0,i.up)("q-card"),d=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(d,{class:""},{default:(0,i.w5)((()=>[(0,i._)("div",b,[(0,i._)("div",w,[(0,i.Wm)(c,{class:"bg-green"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i._)("div",C,[(0,i.Uk)("Libres "),(0,i.Wm)(n,{flat:"",dense:"",onClick:a.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i._)("div",q,(0,f.zw)(r.libres),1)])),_:1})])),_:1})]),(0,i._)("div",v,[(0,i.Wm)(c,{class:"bg-red"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i._)("div",I,[(0,i.Uk)("Ocupados "),(0,i.Wm)(n,{flat:"",dense:"",onClick:a.actualizar,icon:"refresh"},null,8,["onClick"])])])),_:1}),(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i._)("div",y,(0,f.zw)(r.ocupados),1)])),_:1})])),_:1})])])])),_:1})}const $={data(){return{libres:0,ocupados:0}},created(){this.actualizar()},methods:{actualizar(){this.$q.loading.show(),this.$api.get("cupo").then((e=>{this.libres=0,this.ocupados=0,e.data.forEach((e=>{null!=e.nombres?this.ocupados++:this.libres++}))})).finally((()=>{this.$q.loading.hide()}))}}};var x=t(9885),E=t(4458),k=t(3190),S=t(4455),A=t(9984),N=t.n(A);const W=(0,c.Z)($,[["render",_]]),Z=W;N()($,"components",{QPage:x.Z,QCard:E.Z,QCardSection:k.Z,QBtn:S.Z});const R=e=>((0,i.dD)("data-v-d35f83a8"),e=e(),(0,i.Cn)(),e),O={class:"row"},Q=R((()=>(0,i._)("div",{class:"col-1 col-sm-4"},null,-1))),P={class:"col-10 col-sm-4"},D=R((()=>(0,i._)("div",{class:"text-subtitle1 text-center q-pt-xs text-grey"},"CUENTA",-1))),T=R((()=>(0,i._)("div",{class:"text-h2 text-center q-pa-xs text-black text-bold"},"Tu Cuenta",-1))),V={class:"row"},j={class:"col-12"},L={class:"col-12 q-pt-lg"},F={class:"col-12 q-py-xs"},U={class:"col-12 q-pt-xs"},M=R((()=>(0,i._)("div",{class:"col-12 q-pt-xs"},null,-1))),G=R((()=>(0,i._)("div",{class:"col-12 text-center q-py-none"},[(0,i._)("a",{href:"",class:"text-blue-8"},"¿Olvidaste tu contraseña?")],-1))),B=R((()=>(0,i._)("div",{class:"text-subtitle1 text-center text-caption q-pt-lg text-grey"},[(0,i.Uk)("AL INICIAR SESIÓN, USTED ACEPTA LOS "),(0,i._)("a",{href:"",class:"text-blue-8"},"TÉRMINOS DEL SERVICIO"),(0,i.Uk)(" Y "),(0,i._)("a",{href:"",class:"text-blue-8"},"LA POLÍTICA DE PRIVACIDAD")],-1))),z=R((()=>(0,i._)("div",{class:"col-1 col-sm-4"},null,-1)));function Y(e,o,t,r,a,n){const s=(0,i.up)("q-input"),c=(0,i.up)("q-icon"),d=(0,i.up)("q-checkbox"),u=(0,i.up)("q-btn"),p=(0,i.up)("q-form"),m=(0,i.up)("q-card-section"),h=(0,i.up)("q-card"),g=(0,i.up)("q-page"),f=(0,i.up)("q-page-container"),b=(0,i.up)("q-layout");return(0,i.wg)(),(0,i.j4)(b,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("div",O,[Q,(0,i._)("div",P,[D,T,(0,i.Wm)(h,{flat:"",bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"q-pa-lg",onSubmit:(0,l.iM)(n.login,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",V,[(0,i._)("div",j,[(0,i.Wm)(s,{outlined:"",modelValue:a.email,"onUpdate:modelValue":o[0]||(o[0]=e=>a.email=e),label:"Email",type:"email",required:""},null,8,["modelValue"])]),(0,i._)("div",L,[(0,i.Wm)(s,{outlined:"",modelValue:a.password,"onUpdate:modelValue":o[2]||(o[2]=e=>a.password=e),label:"Contraseña",type:a.typePassword?"password":"text",required:""},{append:(0,i.w5)((()=>[(0,i.Wm)(c,{onClick:o[1]||(o[1]=e=>a.typePassword=!a.typePassword),name:a.typePassword?"visibility":"visibility_off"},null,8,["name"])])),_:1},8,["modelValue","type"])]),(0,i._)("div",F,[(0,i.Wm)(d,{modelValue:a.remember,"onUpdate:modelValue":o[3]||(o[3]=e=>a.remember=e),class:"grey",label:"Recuérdame",size:"30px"},null,8,["modelValue"])]),(0,i._)("div",U,[(0,i.Wm)(u,{size:"22px",loading:a.loading,class:"full-width bold",color:"primary",label:"Iniciar Sesión",type:"submit","no-caps":""},null,8,["loading"])]),M,G])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),B]),z])])),_:1})])),_:1})])),_:1})}t(9665);var H=t(7292);const J={name:"Login",data(){return{email:"",password:"",remember:!1,typePassword:!0,loading:!1,store:(0,H.A)()}},mounted(){this.store.isLoggedIn&&this.$router.push("/")},methods:{login(){this.loading=!0,this.$api.post("login",{email:this.email,password:this.password}).then((e=>{this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),this.$router.push("/"),this.store.user=e.data.user,this.store.isLoggedIn=!0,this.$api.defaults.headers.common["Authorization"]="Bearer "+e.data.token,localStorage.setItem("tokenJor",e.data.token)})).catch((e=>{console.log(e),this.$q.notify({message:e.response.data.message,color:"negative",position:"top",timeout:2e3})})).finally((()=>{this.loading=!1}))}}};var K=t(7605),X=t(2133),ee=t(8326),oe=t(6611),te=t(2857),le=t(1221);const re=(0,c.Z)(J,[["render",Y],["__scopeId","data-v-d35f83a8"]]),ae=re;function ie(e,o,t,l,r,a){const n=(0,i.up)("q-btn"),s=(0,i.up)("q-icon"),c=(0,i.up)("q-input"),d=(0,i.up)("q-chip"),u=(0,i.up)("q-td"),p=(0,i.up)("q-img"),m=(0,i.up)("q-table"),h=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{"virtual-scroll":"","virtual-scroll-item-size":48,"selected-rows-label":a.getSelectedString,selected:r.selected,"onUpdate:selected":o[2]||(o[2]=e=>r.selected=e),selection:"multiple",dense:"","rows-per-page-options":[15,100,150,500],rows:r.cupos,columns:r.cupoColumns,filter:r.cupoSearch},{"top-right":(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"o_print",onClick:a.cupoPrint},null,8,["onClick"]),(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"refresh",onClick:o[0]||(o[0]=e=>{a.cupoGet(),r.cupoSearch=""})}),(0,i.Wm)(c,{dense:"",outlined:"",placeholder:"Buscar...",modelValue:r.cupoSearch,"onUpdate:modelValue":o[1]||(o[1]=e=>r.cupoSearch=e)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(s,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-estado":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"qr_code",onClick:o=>a.qrPrint(e.row)},null,8,["onClick"]),(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"public",onClick:o=>a.cupoRegister(e.row)},null,8,["onClick"]),(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"recycling",onClick:o=>a.cupoReset(e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),"body-cell-foto":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"o_rotate_90_degrees_cw",onClick:o=>a.rotateFoto(e.row)},null,8,["onClick"]),(0,i.Wm)(p,{onClick:o=>a.fotoShow(e.row),src:r.url+"../imagenes/"+e.row.foto,width:"30px",height:"30px"},null,8,["onClick","src"])])),_:2},1032,["props"])])),_:1},8,["selected-rows-label","selected","rows","columns","filter"])])),_:1})}N()(J,"components",{QLayout:K.Z,QPageContainer:X.Z,QPage:x.Z,QCard:E.Z,QCardSection:k.Z,QForm:ee.Z,QInput:oe.Z,QIcon:te.Z,QCheckbox:le.Z,QBtn:S.Z});t(4527);var ne=t(2316);t(196);const se={name:"Cupo",data(){return{selected:[],url:"https://bjornada.siscenter.org/api/",cupoSearch:"",store:(0,H.A)(),cupos:[],cupoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"ci",label:"C.I.",field:"ci",align:"left",sortable:!0},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombre",align:"left",sortable:!0},{name:"carrera",label:"Carrera",field:"carrera",align:"left",sortable:!0},{name:"celular",label:"Celular",field:"celular",align:"left",sortable:!0},{name:"correo",label:"Correo",field:"correo",align:"left",sortable:!0},{name:"foto",label:"Foto",field:"foto",align:"left",sortable:!0}]}},created(){this.cupoGet()},computed:{},methods:{qrPrint(e){ne.toDataURL("https://jornada.siscenter.org/#/registro/"+e.codigo).then((e=>{this.$q.dialog({title:"Código QR",message:`<a href="${e}" target="_blank"><div style="text-align: center"><img src="${e}" /></div></a>`,html:!0,ok:!1,cancel:{label:"Cerrar",color:"primary",flat:!0,noDismiss:!0}})})).catch((e=>{console.error(e)}))},cupoRegister(e){window.open("https://jornada.siscenter.org/#/registro/"+e.codigo,"_blank")},rotateFoto(e){this.$q.dialog({title:"Rotar Foto",message:"¿Desea rotar la foto?",ok:{label:"Rotar",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"Cancelar",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$q.loading.show(),this.$api.post(this.url+"rotateFoto",e).then((e=>{console.log(e.data),this.$q.loading.hide(),this.cupoGet()})).catch((e=>{this.$q.loading.hide(),console.log(e)}))}))},cupoReset(e){this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el cupo?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("cupo/"+e.id,{ci:"",nombres:"",apellidos:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.cupoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el cupo",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},cupoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("cupoPdf",this.selected).then((e=>{console.log(e.data),window.open(this.url+"cupoFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} registro${this.selected.length>1?"s":""} seleccionados de ${this.store.cupos.length}`},fotoShow(e){this.$q.dialog({title:"Foto",message:'<img src="'+this.url+"../imagenes/"+e.foto+'" width="100%" />',html:!0,persistent:!0,ok:{label:"Cerrar",color:"primary"}})},cupoGet(){this.$q.loading.show(),this.store.cupos=[],this.$api.get("cupo").then((e=>{e.data.forEach((e=>{e.estado=null==e.nombres?"Libre":"Ocupado",e.nombre=(null==e.nombres?"":e.nombres)+" "+(null==e.apellidos?"":e.apellidos),this.cupos.push(e)}))})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}};var ce=t(7580),de=t(7220),ue=t(7691),pe=t(335);const me=(0,c.Z)(se,[["render",ie]]),he=me;N()(se,"components",{QPage:x.Z,QTable:ce.Z,QBtn:S.Z,QInput:oe.Z,QIcon:te.Z,QTd:de.Z,QChip:ue.Z,QImg:pe.Z});const ge={key:0,class:"flex flex-center text-bold text-center text-h2 text-red-5"},fe={class:"row"},be={class:"col-12 col-sm-6 q-px-xs"},we={class:"col-12 col-sm-6 q-px-xs"},Ce={class:"col-12 col-sm-6 q-px-xs"},qe={class:"col-12 col-sm-6 q-px-xs"},ve={class:"col-12 col-sm-6 q-px-xs"},Ie={class:"col-12 col-sm-6 q-px-xs"},ye={class:"col-12 col-sm-12 q-px-xs flex flex-center q-pb-xs"},_e={class:"col-12 col-sm-12 q-px-xs"};function $e(e,o,t,r,a,n){const s=(0,i.up)("q-toolbar-title"),c=(0,i.up)("q-toolbar"),d=(0,i.up)("q-header"),u=(0,i.up)("q-input"),p=(0,i.up)("q-select"),m=(0,i.up)("q-uploader"),h=(0,i.up)("q-btn"),g=(0,i.up)("q-form"),f=(0,i.up)("q-page"),b=(0,i.up)("router-view"),w=(0,i.up)("q-page-container"),C=(0,i.up)("q-layout");return(0,i.wg)(),(0,i.j4)(C,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"bg-grey-2"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s,{class:"text-bold text-primary text-center"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Registro de estudiante ")])),_:1})])),_:1})])),_:1}),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[a.cupoBool?((0,i.wg)(),(0,i.iD)("div",ge," Este cupo ya fue registrado ")):((0,i.wg)(),(0,i.j4)(g,{key:1,class:"q-pa-lg",onSubmit:(0,l.iM)(n.cupoUpdate,["prevent"])},{default:(0,i.w5)((()=>[(0,i._)("div",fe,[(0,i._)("div",be,[(0,i.Wm)(u,{onKeyup:o[0]||(o[0]=e=>n.studentSearch(a.cupo)),modelValue:a.cupo.ci,"onUpdate:modelValue":o[1]||(o[1]=e=>a.cupo.ci=e),label:"Carnet de identidad",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"])]),(0,i._)("div",we,[(0,i.Wm)(u,{required:"",modelValue:a.cupo.nombres,"onUpdate:modelValue":o[2]||(o[2]=e=>a.cupo.nombres=e),label:"Nombre completo",style:{"text-transform":"uppercase"},hint:"comenzando por el apellido paterno",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),(0,i._)("div",Ce,[(0,i.Wm)(p,{modelValue:a.cupo.carrera,"onUpdate:modelValue":o[3]||(o[3]=e=>a.cupo.carrera=e),label:"Carrera",outlined:"",options:a.carreas,class:"q-mb-md"},null,8,["modelValue","options"])]),(0,i._)("div",qe,[(0,i.Wm)(u,{modelValue:a.cupo.celular,"onUpdate:modelValue":o[4]||(o[4]=e=>a.cupo.celular=e),label:"Celular",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),(0,i._)("div",ve,[(0,i.Wm)(u,{modelValue:a.cupo.direccion,"onUpdate:modelValue":o[5]||(o[5]=e=>a.cupo.direccion=e),label:"Direccion",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),(0,i._)("div",Ie,[(0,i.Wm)(u,{modelValue:a.cupo.correo,"onUpdate:modelValue":o[6]||(o[6]=e=>a.cupo.correo=e),label:"Correo",type:"email",outlined:"",class:"q-mb-md"},null,8,["modelValue"])]),(0,i._)("div",ye,[(0,i.Wm)(m,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Subir foto",flat:"","max-file-size":"5000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,i._)("div",_e,[(0,i.Wm)(h,{loading:a.loading,color:"primary",label:"Registrar","no-caps":"",type:"submit",icon:"add_circle_outline",class:"full-width"},null,8,["loading"])])])])),_:1},8,["onSubmit"]))])),_:1})])),_:1})])),_:1})])),_:1})}const xe={name:"Registro",data(){return{carreas:["INGENIERIA CIVIL (MENCION ESTRUCTURAS)","INGENIERIA CIVIL (MENCION HIDRAULICA)","INGENIERIA CIVIL (MENCION SANITARIA Y AMBIENTAL)","INGENIERIA CIVIL (MENCION VIAS DE COMUNICACION)","INGENIERIA CIVIL (TECNICO ESTRUCTURAS)","INGENIERIA DE SISTEMAS (MENCION DIR. Y GES. EMPRESARIAL)","INGENIERIA DE SISTEMAS (MENCION GESTION DE LA INFORMACION)","INGENIERIA DE SISTEMAS (MENCION MODELAMIENTO Y OPT. DE R-P)","INGENIERIA ELECTRICA (MENCION SIS. ELECTRICOS INDUSTRIALES)","INGENIERIA ELECTRICA (TECNICA)","INGENIERIA ELECTRONICA (MENCION AUTOMATICA)","INGENIERIA ELECTRONICA (MENCION TELECOMUNICACION)","INGENIERIA INDUSTRIAL","INGENIERIA INFORMATICA (MENCION DESARROLLO DE SOFTWARE)","INGENIERIA INFORMATICA (MENCION TELEMATICA)","INGENIERIA MECATRONICA","CISCO","OTROS"],cupoBool:!0,cupo:{ci:"",nombres:"",apellidos:"",carrera:"",celular:"",direccion:"",correo:"",foto:""},foto:"",loading:!1,codigo:this.$route.params.id,students:[]}},created(){this.$api.get("student").then((e=>{this.students=e.data}))},mounted(){this.$q.loading.show(),this.$api.get(`cupo/${this.codigo}`).then((e=>{this.cupo=e.data,null==this.cupo.nombres&&(this.cupoBool=!1)})).finally((()=>{this.$q.loading.hide()}))},methods:{onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},uploadFile(e){this.loading=!0;let o=this.$q.dialog({message:"Subiendo... 0%"}),t=0;const l=new FormData;return l.append("file",e[0]),new Promise(((r,a)=>{this.$api.post("upload",l,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{t=Math.round(e.loaded/e.total*100),o.update({message:`Subiendo... ${t}%`}),t>=100&&o.hide()}}).then((o=>{this.foto=o.data,this.loading=!1,r(e)})).catch((e=>a(e)))}))},studentSearch(e){console.log(e),this.cupo.nombres="",this.cupo.apellidos="",this.cupo.carrera="",this.cupo.celular="",this.cupo.direccion="",this.cupo.correo="",this.students.forEach((o=>{if(o.ci==e.ci)return this.cupo.nombres=o.nombres,this.cupo.apellidos=o.apellidos,this.cupo.carrera=o.carrera,this.cupo.celular=o.celular,this.cupo.direccion=o.direccion,this.cupo.correo=o.correo,!1}))},cupoUpdate(){if(""==this.foto)return this.$q.notify({message:"Tienes que subir una foto",type:"negative",icon:"warning",position:"top"}),!1;this.$q.dialog({title:"Confirmación",message:"¿Estas seguro de registrar este cupo?",cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),this.cupo.foto=this.foto,this.cupo.nombres=this.cupo.nombres.toUpperCase(),this.$api.put(`cupo/${this.cupo.id}`,this.cupo).then((e=>{console.log(e.data),this.$q.notify({message:"Cupo registrado",color:"positive",icon:"check_circle",position:"top"}),this.cupoBool=!0})).finally((()=>{this.$q.loading.hide()}))}))}}};var Ee=t(6602),ke=t(1663),Se=t(1973),Ae=t(6384),Ne=t(4343);const We=(0,c.Z)(xe,[["render",$e]]),Ze=We;function Re(e,o,t,l,r,a){const n=(0,i.up)("q-btn"),s=(0,i.up)("q-icon"),c=(0,i.up)("q-input"),d=(0,i.up)("q-chip"),u=(0,i.up)("q-td"),p=(0,i.up)("q-img"),m=(0,i.up)("q-table"),h=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{"virtual-scroll":"","virtual-scroll-item-size":48,"selected-rows-label":a.getSelectedString,selected:r.selected,"onUpdate:selected":o[2]||(o[2]=e=>r.selected=e),selection:"multiple",dense:"","rows-per-page-options":[15,100,150,500],rows:r.cupos,columns:r.cupoColumns,filter:r.cupoSearch},{"top-right":(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"o_print",onClick:a.cupoPrint},null,8,["onClick"]),(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"refresh",onClick:o[0]||(o[0]=e=>{a.cupoGet(),r.cupoSearch=""})}),(0,i.Wm)(c,{dense:"",outlined:"",placeholder:"Buscar...",modelValue:r.cupoSearch,"onUpdate:modelValue":o[1]||(o[1]=e=>r.cupoSearch=e)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(s,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-estado":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"qr_code",onClick:o=>a.qrPrint(e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),"body-cell-foto":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"o_rotate_90_degrees_cw",onClick:o=>a.rotateFoto(e.row)},null,8,["onClick"]),(0,i.Wm)(p,{onClick:o=>a.fotoShow(e.row),src:r.url+"../imagenes/"+e.row.foto,width:"30px",height:"30px"},null,8,["onClick","src"])])),_:2},1032,["props"])])),_:1},8,["selected-rows-label","selected","rows","columns","filter"])])),_:1})}N()(xe,"components",{QLayout:K.Z,QHeader:Ee.Z,QToolbar:ke.Z,QToolbarTitle:Se.Z,QPageContainer:X.Z,QPage:x.Z,QForm:ee.Z,QInput:oe.Z,QSelect:Ae.Z,QUploader:Ne.Z,QBtn:S.Z});const Oe={name:"Credencial",data(){return{selected:[],url:"https://bjornada.siscenter.org/api/",cupoSearch:"",store:(0,H.A)(),cupos:[],cupoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"ci",label:"C.I.",field:"ci",align:"left",sortable:!0},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombre",align:"left",sortable:!0},{name:"carrera",label:"Carrera",field:"carrera",align:"left",sortable:!0},{name:"celular",label:"Celular",field:"celular",align:"left",sortable:!0},{name:"correo",label:"Correo",field:"correo",align:"left",sortable:!0},{name:"foto",label:"Foto",field:"foto",align:"left",sortable:!0}]}},created(){this.cupoGet()},computed:{},methods:{qrPrint(e){ne.toDataURL("https://jornada.siscenter.org/#/registro/"+e.codigo).then((e=>{this.$q.dialog({title:"Código QR",message:`<a href="${e}" target="_blank"><div style="text-align: center"><img src="${e}" /></div></a>`,html:!0,ok:!1,cancel:{label:"Cerrar",color:"primary",flat:!0,noDismiss:!0}})})).catch((e=>{console.error(e)}))},cupoRegister(e){window.open("https://jornada.siscenter.org/#/registro/"+e.codigo,"_blank")},rotateFoto(e){this.$q.dialog({title:"Rotar Foto",message:"¿Desea rotar la foto?",ok:{label:"Rotar",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"Cancelar",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$q.loading.show(),this.$api.post(this.url+"rotateFoto",e).then((e=>{console.log(e.data),this.$q.loading.hide(),this.cupoGet()})).catch((e=>{this.$q.loading.hide(),console.log(e)}))}))},cupoReset(e){this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el cupo?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("cupo/"+e.id,{ci:"",nombres:"",apellidos:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.cupoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el cupo",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},cupoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("credencialPdf",this.selected).then((e=>{console.log(e.data),window.open(this.url+"credencialFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} registro${this.selected.length>1?"s":""} seleccionados de ${this.store.cupos.length}`},fotoShow(e){this.$q.dialog({title:"Foto",message:'<img src="'+this.url+"../imagenes/"+e.foto+'" width="100%" />',html:!0,persistent:!0,ok:{label:"Cerrar",color:"primary"}})},cupoGet(){this.$q.loading.show(),this.store.cupos=[],this.$api.get("cupo").then((e=>{e.data.forEach((e=>{e.estado=null==e.nombres?"Libre":"Ocupado",e.nombre=(null==e.nombres?"":e.nombres)+" "+(null==e.apellidos?"":e.apellidos),this.cupos.push(e)}))})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}},Qe=(0,c.Z)(Oe,[["render",Re]]),Pe=Qe;function De(e,o,t,l,r,a){const n=(0,i.up)("q-btn"),s=(0,i.up)("q-icon"),c=(0,i.up)("q-input"),d=(0,i.up)("q-chip"),u=(0,i.up)("q-td"),p=(0,i.up)("q-img"),m=(0,i.up)("q-table"),h=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{"virtual-scroll":"","virtual-scroll-item-size":48,"selected-rows-label":a.getSelectedString,selected:r.selected,"onUpdate:selected":o[2]||(o[2]=e=>r.selected=e),selection:"multiple",dense:"","rows-per-page-options":[15,100,150,500],rows:r.cupos,columns:r.cupoColumns,filter:r.cupoSearch},{"top-right":(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"o_print",onClick:a.cupoPrint},null,8,["onClick"]),(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"refresh",onClick:o[0]||(o[0]=e=>{a.cupoGet(),r.cupoSearch=""})}),(0,i.Wm)(c,{dense:"",outlined:"",placeholder:"Buscar...",modelValue:r.cupoSearch,"onUpdate:modelValue":o[1]||(o[1]=e=>r.cupoSearch=e)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(s,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-estado":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"qr_code",onClick:o=>a.qrPrint(e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),"body-cell-foto":(0,i.w5)((e=>[(0,i.Wm)(u,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{flat:"",round:"",dense:"",icon:"o_rotate_90_degrees_cw",onClick:o=>a.rotateFoto(e.row)},null,8,["onClick"]),(0,i.Wm)(p,{onClick:o=>a.fotoShow(e.row),src:r.url+"../imagenes/"+e.row.foto,width:"30px",height:"30px"},null,8,["onClick","src"])])),_:2},1032,["props"])])),_:1},8,["selected-rows-label","selected","rows","columns","filter"])])),_:1})}N()(Oe,"components",{QPage:x.Z,QTable:ce.Z,QBtn:S.Z,QInput:oe.Z,QIcon:te.Z,QTd:de.Z,QChip:ue.Z,QImg:pe.Z});const Te={name:"Certificado",data(){return{selected:[],url:"https://bjornada.siscenter.org/api/",cupoSearch:"",store:(0,H.A)(),cupos:[],cupoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"ci",label:"C.I.",field:"ci",align:"left",sortable:!0},{name:"estado",label:"Estado",field:"estado",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombre",align:"left",sortable:!0},{name:"carrera",label:"Carrera",field:"carrera",align:"left",sortable:!0},{name:"celular",label:"Celular",field:"celular",align:"left",sortable:!0},{name:"correo",label:"Correo",field:"correo",align:"left",sortable:!0},{name:"foto",label:"Foto",field:"foto",align:"left",sortable:!0}]}},created(){this.cupoGet()},computed:{},methods:{qrPrint(e){ne.toDataURL("https://jornada.siscenter.org/#/registro/"+e.codigo).then((e=>{this.$q.dialog({title:"Código QR",message:`<a href="${e}" target="_blank"><div style="text-align: center"><img src="${e}" /></div></a>`,html:!0,ok:!1,cancel:{label:"Cerrar",color:"primary",flat:!0,noDismiss:!0}})})).catch((e=>{console.error(e)}))},cupoRegister(e){window.open("https://jornada.siscenter.org/#/registro/"+e.codigo,"_blank")},rotateFoto(e){this.$q.dialog({title:"Rotar Foto",message:"¿Desea rotar la foto?",ok:{label:"Rotar",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"Cancelar",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$q.loading.show(),this.$api.post(this.url+"rotateFoto",e).then((e=>{console.log(e.data),this.$q.loading.hide(),this.cupoGet()})).catch((e=>{this.$q.loading.hide(),console.log(e)}))}))},cupoReset(e){this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el cupo?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("cupo/"+e.id,{ci:"",nombres:"",apellidos:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.cupoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el cupo",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},cupoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("certificadoPdf",this.selected).then((e=>{console.log(e.data),window.open(this.url+"certificadoFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} registro${this.selected.length>1?"s":""} seleccionados de ${this.store.cupos.length}`},fotoShow(e){this.$q.dialog({title:"Foto",message:'<img src="'+this.url+"../imagenes/"+e.foto+'" width="100%" />',html:!0,persistent:!0,ok:{label:"Cerrar",color:"primary"}})},cupoGet(){this.$q.loading.show(),this.store.cupos=[],this.$api.get("cupo").then((e=>{e.data.forEach((e=>{e.estado=null==e.nombres?"Libre":"Ocupado",e.nombre=(null==e.nombres?"":e.nombres)+" "+(null==e.apellidos?"":e.apellidos),this.cupos.push(e)}))})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}},Ve=(0,c.Z)(Te,[["render",De]]),je=Ve;N()(Te,"components",{QPage:x.Z,QTable:ce.Z,QBtn:S.Z,QInput:oe.Z,QIcon:te.Z,QTd:de.Z,QChip:ue.Z,QImg:pe.Z});const Le={class:"row"},Fe=(0,i._)("div",{class:"col-12"},[(0,i._)("p",{class:"text-red text-bold text-center"},"Marque los materiales a entregar ")],-1),Ue={class:"col-12 col-sm-3 flex flex-center"},Me={class:"col-12 col-sm-3 flex flex-center"},Ge={class:"col-12 col-sm-3 flex flex-center"},Be={class:"col-12 col-sm-3 flex flex-center"},ze={class:"col-12 q-px-lg"},Ye=(0,i._)("div",{id:"myelement",class:"hidden"},null,-1);function He(e,o,t,r,a,n){const s=(0,i.up)("q-checkbox"),c=(0,i.up)("q-input"),d=(0,i.up)("q-form"),u=(0,i.up)("q-card-section"),p=(0,i.up)("q-card"),m=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i._)("div",Le,[Fe,(0,i._)("div",Ue,[(0,i.Wm)(s,{modelValue:a.credencial,"onUpdate:modelValue":o[0]||(o[0]=e=>a.credencial=e),label:"Credencial"},null,8,["modelValue"])]),(0,i._)("div",Me,[(0,i.Wm)(s,{modelValue:a.folder,"onUpdate:modelValue":o[1]||(o[1]=e=>a.folder=e),label:"Folder"},null,8,["modelValue"])]),(0,i._)("div",Ge,[(0,i.Wm)(s,{modelValue:a.barbijo,"onUpdate:modelValue":o[2]||(o[2]=e=>a.barbijo=e),label:"Barbijo"},null,8,["modelValue"])]),(0,i._)("div",Be,[(0,i.Wm)(s,{modelValue:a.certificado,"onUpdate:modelValue":o[3]||(o[3]=e=>a.certificado=e),label:"Certificado"},null,8,["modelValue"])]),(0,i._)("div",ze,[(0,i.Wm)(d,{onSubmit:(0,l.iM)(n.materialInsert,["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"Colocar el lector",modelValue:a.ci,"onUpdate:modelValue":o[4]||(o[4]=e=>a.ci=e),outlined:""},null,8,["modelValue"])])),_:1},8,["onSubmit"])])])])),_:1})])),_:1}),Ye])),_:1})}var Je=t(2995),Ke=t(4376);const Xe={name:"Material",data(){return{credencial:!1,folder:!1,barbijo:!1,certificado:!1,ci:""}},methods:{materialInsert(){if(!this.credencial&&!this.folder&&!this.barbijo&&!this.certificado)return this.$q.notify({message:"No se puede entregar material sin seleccionar",color:"negative",icon:"warning",position:"top"}),!1;this.$q.loading.show(),this.$api.post("updateMaterial/"+this.ci,{credencial:this.credencial,folder:this.folder,barbijo:this.barbijo,certificado:this.certificado}).then((e=>{let o=e.data;console.log(e.data);let t="";o.credencial&&(t+="Credencial, "),o.folder&&(t+="Folder, "),o.barbijo&&(t+="Barbijo, "),o.certificado&&(t+="Certificado, "),this.$q.loading.hide(),this.$q.notify({message:"Material entregado",color:"green-4",textColor:"white",icon:"done",position:"top"});const l=new Je.gR;let r=Ke.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss");document.getElementById("myelement").innerHTML=`\n<style>\n.center {\n  text-align: center;\n}\n.left {\n  text-align: left;\n}\n.right {\n  text-align: right;\n}\n.bold {\n  text-weight: bold;\n}\n</style>\n          <div class="center bold"> <b>Universidad Técnica de Oruro</b></div>\n          <div class="center bold"> <b>Facultad Nacional de Ingeniería</b></div>\n          <div class="left "> <b>Nombre: </b> ${o.nombres}</div>\n          <div class="left "> <b>Carrera: </b> ${o.carrera}</div>\n          <div class="left "> <b>Fecha hora: </b> ${r}</div>\n          <div class="left "> <b>Material entregado: </b> ${t}</div>\n\n          <div style="border-top: 2px dotted #1a202c;margin-top: 50px" class="center">FIRMA</div>\n          `,l.print(document.getElementById("myelement")),this.ci=""})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:"Error al entregar material",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}}},eo=(0,c.Z)(Xe,[["render",He]]),oo=eo;N()(Xe,"components",{QPage:x.Z,QCard:E.Z,QCardSection:k.Z,QCheckbox:le.Z,QForm:ee.Z,QInput:oe.Z});const to={class:"row"},lo={class:"col-12 q-px-lg"},ro=(0,i._)("div",{id:"myelement",class:"hidden"},null,-1);function ao(e,o,t,r,a,n){const s=(0,i.up)("q-input"),c=(0,i.up)("q-form"),d=(0,i.up)("q-card-section"),u=(0,i.up)("q-card"),p=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i._)("div",to,[(0,i._)("div",lo,[(0,i.Wm)(c,{onSubmit:(0,l.iM)(n.refrigerioInsert,["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{label:"Colocar el lector",modelValue:a.ci,"onUpdate:modelValue":o[0]||(o[0]=e=>a.ci=e),outlined:""},null,8,["modelValue"])])),_:1},8,["onSubmit"])])])])),_:1})])),_:1}),ro])),_:1})}const io={name:"Refrigerio",data(){return{ci:""}},methods:{refrigerioInsert(){this.$q.loading.show(),this.$api.post("updateMaterial/"+this.ci).then((e=>{let o=e.data;this.$q.loading.hide(),this.$q.notify({message:"Se ha entregado el refrigerio",color:"green-4",textColor:"white",icon:"done",position:"top"});const t=new Je.gR;let l=Ke.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss");document.getElementById("myelement").innerHTML=`\n<style>\n.center {\n  text-align: center;\n}\n.left {\n  text-align: left;\n}\n.right {\n  text-align: right;\n}\n.bold {\n  text-weight: bold;\n}\n</style>\n          <div class="center bold"> <b>Universidad Técnica de Oruro</b></div>\n          <div class="center bold"> <b>Facultad Nacional de Ingeniería</b></div>\n          <div class="center bold"> <b>TICKET REFRIGERIO</b></div>\n          <div class="left "> <b>Nombre: </b> ${o.nombres}</div>\n          <div class="left "> <b>Carrera: </b> ${o.carrera}</div>\n          <div class="left "> <b>Fecha hora: </b> ${l}</div>\n\n          <div style="border-top: 2px dotted #1a202c;margin-top: 50px" class="center">FIRMA</div>\n          `,t.print(document.getElementById("myelement")),this.ci=""})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:"Error al entregar material",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}}},no=(0,c.Z)(io,[["render",ao]]),so=no;function co(e,o,t,l,r,a){const n=(0,i.up)("q-icon"),s=(0,i.up)("q-input"),c=(0,i.up)("q-chip"),d=(0,i.up)("q-td"),u=(0,i.up)("q-btn"),p=(0,i.up)("q-table"),m=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{"virtual-scroll":"","virtual-scroll-item-size":48,dense:"","rows-per-page-options":[15,100,150,500],rows:e.cupos,columns:r.cupoColumns,filter:r.cupoSearch},{"top-right":(0,i.w5)((()=>[(0,i.Wm)(s,{dense:"",outlined:"",placeholder:"Buscar...",modelValue:r.cupoSearch,"onUpdate:modelValue":o[0]||(o[0]=e=>r.cupoSearch=e)},{prepend:(0,i.w5)((()=>[(0,i.Wm)(n,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-estado":(0,i.w5)((e=>[(0,i.Wm)(d,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{color:"Libre"==e.row.estado?"green":"red","text-color":"white",dense:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,f.zw)(e.row.estado),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-action":(0,i.w5)((o=>[(0,i.Wm)(d,{props:o},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{flat:"",round:"",dense:"",icon:"edit",onClick:t=>e.editEst(o.row)},null,8,["onClick"]),(0,i.Wm)(u,{flat:"",round:"",dense:"",icon:"remove",onClick:t=>e.delteEst(o.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])),_:1})}N()(io,"components",{QPage:x.Z,QCard:E.Z,QCardSection:k.Z,QForm:ee.Z,QInput:oe.Z});const uo={name:"Cupo",data(){return{selected:[],url:"https://bjornada.siscenter.org/api/",cupoSearch:"",store:(0,H.A)(),estudiantes:[],cupoColumns:[{name:"action",label:"Acción",field:"action",align:"left",sortable:!0},{name:"ci",label:"C.I.",field:"ci",align:"left",sortable:!0},{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"nombre",label:"Nombre",field:"nombre",align:"left",sortable:!0},{name:"carrera",label:"Carrera",field:"carrera",align:"left",sortable:!0},{name:"celular",label:"Celular",field:"celular",align:"left",sortable:!0},{name:"direccion",label:"direccion",field:"direccion",align:"left",sortable:!0}]}},created(){this.cupoGet()},computed:{},methods:{cupoRegister(e){window.open("https://jornada.siscenter.org/#/registro/"+e.codigo,"_blank")},cupoReset(e){this.$q.dialog({title:"Confirmación",message:"¿Está seguro de resetear el cupo?",ok:{label:"Si",color:"primary",flat:!0,noDismiss:!0},cancel:{label:"No",color:"primary",flat:!0,noDismiss:!0}}).onOk((()=>{this.$api.put("cupo/"+e.id,{ci:"",nombres:"",apellidos:"",carrera:"",foto:"avatar.png",celular:"",direccion:"",correo:"",credencial:!1,folder:!1,barbijo:!1,certificado:!1}).then((e=>{this.$q.notify({message:"Cupo reseteado",color:"green-4",textColor:"white",icon:"check_circle",position:"top"}),this.cupoGet()})).catch((e=>{this.$q.notify({message:"Error al resetear el cupo",color:"red-4",textColor:"white",icon:"error",position:"top"})}))}))},cupoPrint:function(){if(this.selected.length<=0)return this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"No hay registros seleccionados"}),!1;this.$q.loading.show(),this.$api.post("cupoPdf",this.selected).then((e=>{console.log(e.data),window.open(this.url+"cupoFile","_blank"),this.$q.notify({color:"green-4",textColor:"white",icon:"check_circle",position:"top",message:"PDF generado"})})).catch((e=>{this.$q.notify({color:"red-4",textColor:"white",icon:"report_problem",position:"top",message:"Error al generar PDF"})})).finally((()=>{this.$q.loading.hide()}))},cupoGet(){this.$q.loading.show(),this.store.estudiantes=[],this.$api.get("student").then((e=>{this.estudiantes=e.data})).catch((e=>{console.log(e)})).finally((()=>{this.$q.loading.hide()}))}}},po=(0,c.Z)(uo,[["render",co]]),mo=po;N()(uo,"components",{QPage:x.Z,QTable:ce.Z,QInput:oe.Z,QIcon:te.Z,QTd:de.Z,QChip:ue.Z,QBtn:S.Z});const ho=[{path:"/",component:()=>Promise.all([t.e(736),t.e(796)]).then(t.bind(t,1796)),children:[{path:"",component:Z,meta:{requiresAuth:!0}},{path:"cupo",component:he,meta:{requiresAuth:!0}},{path:"credencial",component:Pe,meta:{requiresAuth:!0}},{path:"certificado",component:je,meta:{requiresAuth:!0}},{path:"material",component:oo,meta:{requiresAuth:!0}},{path:"refrigerio",component:so,meta:{requiresAuth:!0}},{path:"estudiantes",component:mo,meta:{requiresAuth:!0}}]},{path:"/login",component:ae},{path:"/registro/:id",component:Ze},{path:"/:catchAll(.*)*",component:()=>t.e(862).then(t.bind(t,1862))}],go=ho,fo=(0,p.BC)((function(){const e=g.r5,o=(0,g.p7)({scrollBehavior:()=>({left:0,top:0}),routes:go,history:e("")});return o.beforeEach(((e,o,t)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,H.A)().isLoggedIn)return void t();t("/login")}else t()})),o}));async function bo(e,o){const t=e(u);t.use(r.Z,o);const l="function"===typeof h?await h({}):h;t.use(l);const i=(0,a.Xl)("function"===typeof fo?await fo({store:l}):fo);return l.use((({store:e})=>{e.router=i})),{app:t,store:l,router:i}}var wo=t(8934),Co=t(6827),qo=t(6950),vo=t(7975);const Io={config:{},lang:wo.Z,plugins:{Notify:Co.Z,Loading:qo.Z,Dialog:vo.Z}},yo="";async function _o({app:e,router:o,store:t},l){let r=!1;const a=e=>{try{return o.resolve(e).href}catch(t){}return Object(e)===e?null:e},i=e=>{if(r=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const o=a(e);null!==o&&(window.location.href=o,window.location.reload())},n=window.location.href.replace(window.location.origin,"");for(let c=0;!1===r&&c<l.length;c++)try{await l[c]({app:e,router:o,store:t,ssrContext:null,redirect:i,urlPath:n,publicPath:yo})}catch(s){return s&&s.url?void i(s.url):void console.error("[Quasar] boot error:",s)}!0!==r&&(e.use(o),e.mount("#q-app"))}bo(l.ri,Io).then((e=>{const[o,l]=void 0!==Promise.allSettled?["allSettled",e=>e.map((e=>{if("rejected"!==e.status)return e.value.default;console.error("[Quasar] boot error:",e.reason)}))]:["all",e=>e.map((e=>e.default))];return Promise[o]([Promise.resolve().then(t.bind(t,1569))]).then((o=>{const t=l(o).filter((e=>"function"===typeof e));_o(e,t)}))}))},1569:(e,o,t)=>{t.r(o),t.d(o,{api:()=>n,default:()=>s});t(9665);var l=t(3340),r=t(9981),a=t.n(r),i=t(7292);const n=a().create({baseURL:"https://bjornada.siscenter.org/api/"}),s=(0,l.xr)((({app:e,router:o})=>{e.config.globalProperties.$axios=a(),e.config.globalProperties.$api=n;const t=localStorage.getItem("tokenJor");t?(e.config.globalProperties.$api.defaults.headers.common["Authorization"]="Bearer "+t,e.config.globalProperties.$api.post("me").then((e=>{(0,i.A)().user=e.data,(0,i.A)().isLoggedIn=!0})).catch((t=>{e.config.globalProperties.$api.defaults.headers.common["Authorization"]="",(0,i.A)().user={},localStorage.removeItem("tokenJor"),(0,i.A)().isLoggedIn=!1,o.push("/login")}))):(o.push("/login"),(0,i.A)().user={},localStorage.removeItem("tokenJor"),(0,i.A)().isLoggedIn=!1)}))},7292:(e,o,t)=>{t.d(o,{A:()=>r});var l=t(1809);const r=(0,l.Q_)("counter",{state:()=>({counter:0,user:{},isLoggedIn:!!localStorage.getItem("tokenJor"),cupo:{},cupos:[]}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}}})}},o={};function t(l){var r=o[l];if(void 0!==r)return r.exports;var a=o[l]={exports:{}};return e[l].call(a.exports,a,a.exports,t),a.exports}t.m=e,(()=>{var e=[];t.O=(o,l,r,a)=>{if(!l){var i=1/0;for(d=0;d<e.length;d++){for(var[l,r,a]=e[d],n=!0,s=0;s<l.length;s++)(!1&a||i>=a)&&Object.keys(t.O).every((e=>t.O[e](l[s])))?l.splice(s--,1):(n=!1,a<i&&(i=a));if(n){e.splice(d--,1);var c=r();void 0!==c&&(o=c)}}return o}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[l,r,a]}})(),(()=>{t.n=e=>{var o=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(o,{a:o}),o}})(),(()=>{var e,o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(l,r){if(1&r&&(l=this(l)),8&r)return l;if("object"===typeof l&&l){if(4&r&&l.__esModule)return l;if(16&r&&"function"===typeof l.then)return l}var a=Object.create(null);t.r(a);var i={};e=e||[null,o({}),o([]),o(o)];for(var n=2&r&&l;"object"==typeof n&&!~e.indexOf(n);n=o(n))Object.getOwnPropertyNames(n).forEach((e=>i[e]=()=>l[e]));return i["default"]=()=>l,t.d(a,i),a}})(),(()=>{t.d=(e,o)=>{for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((o,l)=>(t.f[l](e,o),o)),[]))})(),(()=>{t.u=e=>"js/"+e+"."+{796:"8b5327ba",862:"ad320d89"}[e]+".js"})(),(()=>{t.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"125f1a42",736:"4cde08dd"}[e]+".css"})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o)})(),(()=>{var e={},o="front:";t.l=(l,r,a,i)=>{if(e[l])e[l].push(r);else{var n,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==l||u.getAttribute("data-webpack")==o+a){n=u;break}}n||(s=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,t.nc&&n.setAttribute("nonce",t.nc),n.setAttribute("data-webpack",o+a),n.src=l),e[l]=[r];var p=(o,t)=>{n.onerror=n.onload=null,clearTimeout(m);var r=e[l];if(delete e[l],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((e=>e(t))),o)return o(t)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),s&&document.head.appendChild(n)}}})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.p=""})(),(()=>{var e={143:0};t.f.j=(o,l)=>{var r=t.o(e,o)?e[o]:void 0;if(0!==r)if(r)l.push(r[2]);else{var a=new Promise(((t,l)=>r=e[o]=[t,l]));l.push(r[2]=a);var i=t.p+t.u(o),n=new Error,s=l=>{if(t.o(e,o)&&(r=e[o],0!==r&&(e[o]=void 0),r)){var a=l&&("load"===l.type?"missing":l.type),i=l&&l.target&&l.target.src;n.message="Loading chunk "+o+" failed.\n("+a+": "+i+")",n.name="ChunkLoadError",n.type=a,n.request=i,r[1](n)}};t.l(i,s,"chunk-"+o,o)}},t.O.j=o=>0===e[o];var o=(o,l)=>{var r,a,[i,n,s]=l,c=0;if(i.some((o=>0!==e[o]))){for(r in n)t.o(n,r)&&(t.m[r]=n[r]);if(s)var d=s(t)}for(o&&o(l);c<i.length;c++)a=i[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(d)},l=globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var l=t.O(void 0,[736],(()=>t(8990)));l=t.O(l)})();